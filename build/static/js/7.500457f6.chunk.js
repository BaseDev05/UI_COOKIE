(this["webpackJsonpcubdefi-frontend"]=this["webpackJsonpcubdefi-frontend"]||[]).push([[7],{1058:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return qe}));var c=n(23),a=n(35),i=n(5),r=n(47),s=n(0),o=n(39),l=n(31),d=n(54),j=n(4),b=n.n(j),u=n(62),x=n(3),O=n(222),p=n(880),m=n(75),h=n(134),f=n(112),g=n(806),v=n(231),w=n(216),k=n(76),y=function(e){var t,n=e.apr,c=e.isKingdom,a=e.poolWeightPCS,i=e.compounding,r=e.lpTokenBalancePCS,s=void 0===r?0:r,o=e.lpTotalInQuoteTokenPCS,l=void 0===o?0:o,d=e.quoteToken.busdPrice,j=e.altPid,u=e.farmType,x=e.beltAPR,O=Object(m.b)(0),p=Object(m.a)("BAKE-BNB LP"),h=Object(m.a)("BELT-BNB LP"),f=Object(m.c)(j);if(12===j){var v=new b.a(f.lpTotalInQuoteToken).times(f.quoteToken.busdPrice);t=Object(g.a)(f.poolWeight,f.tokenPriceVsQuote,v);var y=new b.a(t).div(new b.a(365)).toNumber(),B=100*(Math.pow(t/100/i+1,i)-1),P=B,S=P&&P.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:t,dailyAPR:y,farmAPY:B,totalAPY:P,totalAPYString:S,newMultiplier:f.multiplier}}if("CAKE"===e.lpSymbol)t=Object(g.b)(Number(e.token.busdPrice),Number(e.token.busdPrice),Object(w.b)(new b.a(s).times(k.i),18),parseFloat("10"));else{var C=new b.a(l).times(d),A=O;"Bakery"===u?A=p:"Belt"===u&&(A=h),t="Belt"===u?Number(x):Object(g.a)(new b.a(a),A,C,c,u)}var M=t?new b.a(t).div(new b.a(365)).toNumber():new b.a(0).toNumber(),T=100*(Math.pow(t/100/i+1,i)-1),N=n?n+T:T,U=N&&N.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:t,dailyAPR:M,farmAPY:T,totalAPY:N,totalAPYString:U}},B=n(805),P=n.n(B),S=n(13),C=function(e){var t=e.value,n=e.fontSize,c=e.color,a=e.decimals,i=e.isDisabled,r=e.unit,o=e.bold,d=Object(s.useRef)(0);return Object(s.useEffect)((function(){d.current=t}),[t]),Object(S.jsxs)(l.M,{bold:o,color:i?"textDisabled":c,fontSize:n,children:[Object(S.jsx)(P.a,{start:d.current,end:t,decimals:a,duration:1,separator:","}),t&&r&&Object(S.jsx)("span",{children:r})]})};C.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var A,M,T,N,U,F,D,L,z,Q,R,K,Y,q,V,I,E,W,$,J,G,H=C,X=n(807),Z=n(1),_=n.n(Z),ee=n(6),te=n(800),ne=n(820),ce=n(821),ae=n(812),ie=n(819),re=n(803),se=n(818),oe=n(817),le=n(58),de=n(11),je=n(794),be=(n(899),x.e.div(A||(A=Object(r.a)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background}))),ue=Object(x.e)(l.h)(M||(M=Object(r.a)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),xe=x.e.div(T||(T=Object(r.a)(["\n  display: flex;\n"]))),Oe=x.e.span(N||(N=Object(r.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),pe=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,i=e.rewardBalance,r=e.walletBalanceQuoteValue,d=e.depositBalanceQuoteValue,j=e.addLiquidityUrl,u=e.account,x=e.cakePrice,O=Object(o.f)(),p=Object(m.a)("BNB-BUSD LP"),h=Object(s.useState)(!1),f=Object(a.a)(h,2),g=f[0],v=f[1],w=Object(s.useState)(!1),k=Object(a.a)(w,2),y=k[0],B=k[1],P=t.pid,C=t.isTokenOnly,A=t.isKingdom,M=t.isKingdomToken,T=t.lpSymbol,N=t.lpAddresses,U=t.token.address,F=T.toUpperCase(),D=t.userData||{},L=D.allowance,z=void 0===L?0:L,Q=D.tokenBalance,R=void 0===Q?0:Q,K=D.stakedBalance,Y=void 0===K?0:K,q=D.bnbDividends,V=void 0===q?{}:q,I=new b.a(z),E=new b.a(R),W=new b.a(Y),$=i?new b.a(i).multipliedBy(x).toNumber():0,J=Object(je.a)(),G=Object(ae.a)(P,A).onStake,X=Object(ie.a)(P,A).onUnstake,Z=Object(re.b)(P,A).onReward,pe=Object(oe.a)(V).onClaim,me=u&&I&&I.isGreaterThan(0),he=Object(l.U)(Object(S.jsx)(ne.a,{max:E,onConfirm:G,tokenName:F,addLiquidityUrl:j,isTokenOnly:C,isKingdomToken:M})),fe=Object(a.a)(he,1)[0],ge=Object(l.U)(Object(S.jsx)(ce.a,{max:W,onConfirm:X,tokenName:F,isTokenOnly:C,isKingdomToken:M})),ve=Object(a.a)(ge,1)[0],we=Object(de.a)(N),ke=Object(de.a)(U),ye=Object(s.useMemo)((function(){return C||M?Object(le.a)(ke,J):Object(le.a)(we,J)}),[we,C,J,ke,M]),Be=Object(se.a)(ye,A).onApprove,Pe=Object(s.useCallback)(Object(ee.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Be();case 4:v(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Be]),Se=Object(S.jsx)(ue,{mt:"8px",disabled:g||O.pathname.includes("archived"),onClick:Pe,children:"Approve Contract"}),Ce=V&&V.amount?V.amount:0,Ae=Ce?new b.a(Ce).multipliedBy(p).toNumber():0,Me=null;return Me="CUB"===t.lpSymbol?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(l.M,{children:"BNB Dividends"}),Object(S.jsxs)(xe,{children:[Object(S.jsx)(H,{fontSize:"16px",value:Ce,decimals:Ce?3:2,unit:""}),"\xa0",Object(S.jsx)(Oe,{children:"("}),Object(S.jsx)(te.a,{value:Ae}),Object(S.jsx)(Oe,{children:")"})]}),Object(S.jsx)(ue,{disabled:0===Ce||y||!me,onClick:Object(ee.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,pe();case 3:B(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(l.M,{children:"CUB Rewards"}),Object(S.jsxs)(xe,{children:[Object(S.jsx)(H,{fontSize:"16px",value:i,decimals:i?3:2,unit:""}),"\xa0",Object(S.jsx)(Oe,{children:"("}),Object(S.jsx)(te.a,{value:$}),Object(S.jsx)(Oe,{children:")"})]}),Object(S.jsx)(ue,{disabled:0===i||y||!me,onClick:Object(ee.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Z();case 3:B(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),Object(S.jsx)(be,{children:Object(S.jsx)("div",{className:"k-card",children:Object(S.jsxs)("div",{className:"flex-grid",children:[Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(l.s,{justifyContent:"space-between",children:Object(S.jsx)(l.M,{children:"Balance (Wallet)"})}),Object(S.jsxs)(xe,{children:[Object(S.jsx)(H,{fontSize:"16px",value:n,decimals:n?3:2,unit:""}),"\xa0",Object(S.jsx)(Oe,{children:"("}),Object(S.jsx)(te.a,{value:r}),Object(S.jsx)(Oe,{children:")"})]}),me?Object(S.jsx)(ue,{mt:"8px",fullWidth:!0,onClick:fe,children:"Deposit"}):Se]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(l.s,{justifyContent:"space-between",children:Object(S.jsx)(l.M,{children:"Deposit (Staked)"})}),Object(S.jsxs)(xe,{children:[Object(S.jsx)(H,{fontSize:"16px",value:c,decimals:c?3:2,unit:""}),"\xa0",Object(S.jsx)(Oe,{children:"("}),Object(S.jsx)(te.a,{value:d}),Object(S.jsx)(Oe,{children:")"})]}),me?Object(S.jsx)(ue,{mt:"8px",fullWidth:!0,onClick:ve,children:"Withdraw"}):Se]}),Object(S.jsx)("div",{className:"col",children:Me})]})})})},me=n(787),he=n(839),fe=function(e){var t=e.aprApy,n=e.lpLabel,c=e.addLiquidityUrl,a=Object(me.a)(),i=t.farmAPR,r=t.apr,s=t.compounding,o=t.pcsApr,d=t.dailyAPR,j=t.farmAPY,u=t.totalAPYString,x=t.cakePrice;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsxs)(l.M,{color:"warning",children:[a(354,"Total APY"),":"]}),Object(S.jsxs)(l.M,{bold:!0,color:"warning",children:[u,"%"]})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsxs)(l.M,{children:[a(354,"Farm APR"),":"]}),Object(S.jsx)(l.M,{children:"".concat(new b.a(o).toFixed(2),"% (").concat(new b.a(d).toFixed(3),"%)")})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsxs)(l.M,{children:[a(354,"Compounds / year"),":"]}),Object(S.jsxs)(l.M,{children:["~",s]})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsxs)(l.M,{children:[a(354,"Farm APY"),":"]}),Object(S.jsx)(H,{fontSize:"16px",value:j,decimals:2,unit:"%"})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",alignItems:"center",children:[Object(S.jsxs)(l.M,{children:[a(736,"CUB APR"),":"]}),Object(S.jsx)(l.M,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(he.a,{lpLabel:n,addLiquidityUrl:c,cakePrice:x,apr:r}),i||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):Object(S.jsx)(l.J,{height:24,width:80})})]})]})},ge=(Object(x.e)(l.h)(U||(U=Object(r.a)(["\n  height: 36px;\n  font-size: 1rem;\n  padding: 0 12px;\n"]))),x.e.div(F||(F=Object(r.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"])))),ve=x.e.div(D||(D=Object(r.a)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),we=x.e.div(L||(L=Object(r.a)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),ke=Object(x.e)(l.y)(z||(z=Object(r.a)(["\n  font-weight: 400;\n"]))),ye=x.e.div(Q||(Q=Object(r.a)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),Be=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,r=e.depositBalanceQuoteValue,s=e.farmName,o=e.oneTokenQuoteValue,d=e.removed,j=e.aprApy,b=e.account,u=e.cakePrice,x=o&&"NaN"!==o.toString()?"~$".concat(o.times(k.i).toFixed(2)):"-",O=t.lpSymbol,p=t.multiplier,m=t.quoteToken,h=t.token,f=t.lpAddresses,g=t.isTokenOnly,v=t.isKingdomToken,w=t.kingdomContract,y=t.altPid,B=O&&O.toUpperCase().replace("PANCAKE",""),P=Object(X.a)({quoteTokenAddress:m.address,tokenAddress:h.address}),C=f[56],A=h.address[56],M="https://bscscan.com/token/".concat(g||v?A:C),T="https://bscscan.com/token/".concat(w),N="https://pancakeswap.info/pair/".concat(g?A:C),U=k.k,F="".concat(k.d,"/#/swap"),D="".concat(U,"/").concat(P);"Bakery"===t.farmType?(U=k.a,D="".concat(U,"/").concat(P),N="https://info.bakeryswap.org/#/pair/".concat(g?A:C)):"Belt"===t.farmType&&(D=U=k.e,F=U,N=U);var L=p;return j.newMultiplier&&(L="".concat(j.newMultiplier,"*")),Object(S.jsxs)(we,{children:[Object(S.jsx)(pe,{farm:t,walletBalance:n,depositBalance:c,rewardBalance:a,walletBalanceQuoteValue:i,depositBalanceQuoteValue:r,addLiquidityUrl:D,account:b,cakePrice:u}),Object(S.jsxs)(ge,{className:"k-details",children:[Object(S.jsxs)(ve,{children:[Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsxs)(l.M,{children:[O,":"]}),Object(S.jsxs)(l.M,{children:["(",x,")"]})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Multiplier:"}),Object(S.jsx)(l.M,{children:L})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Type:"}),Object(S.jsx)(l.M,{children:"Auto-compound"})]}),12===y?Object(S.jsx)(ye,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Farm:"}),Object(S.jsx)(l.M,{children:s})]})]}),Object(S.jsx)(ve,{children:Object(S.jsx)(fe,{aprApy:j,lpLabel:B,addLiquidityUrl:D})}),Object(S.jsxs)(ve,{children:[Object(S.jsx)(ke,{external:!0,href:M,children:"Farm Contract"}),Object(S.jsx)(ke,{external:!0,href:T,children:"Kingdom Contract"}),!d&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ke,{external:!0,href:F,children:"Buy ".concat(h.symbol)}),Object(S.jsx)(ke,{external:!0,href:D,children:"Add Liquidity"})]}),Object(S.jsx)(ke,{external:!0,href:N,children:"See Token Info"})]})]})]})},Pe=x.e.div(R||(R=Object(r.a)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Se=x.e.div(K||(K=Object(r.a)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),Ce=x.e.div(Y||(Y=Object(r.a)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Ae=x.e.div(q||(q=Object(r.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),Me=Object(x.f)(V||(V=Object(r.a)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),Te=x.e.div(I||(I=Object(r.a)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),Me),Ne=Object(x.e)(l.w)(E||(E=Object(r.a)(["\n  width: 64px;\n"]))),Ue=x.e.div(W||(W=Object(r.a)(["\n  cursor: pointer;\n"]))),Fe=function(e){var t=e.farm,n=e.removed,c=e.cakePrice,r=e.account,o=(e.updateTotalStake,Object(s.useState)(!1)),d=Object(a.a)(o,2),j=d[0],u=d[1],x=t.apr,O=t.lpTotalInQuoteToken,p=t.lpSymbol,h=t.lpTokenBalancePCS,f=void 0===h?0:h,g=t.lpTotalInQuoteTokenPCS,v=void 0===g?0:g,B=t.quoteToken.busdPrice,P=t.altPid,C=t.farmType,A=p.split(" ")[0].toLocaleLowerCase(),M=y(t),T=M,N=T.dailyAPR,U=T.totalAPY,F=T.pcsApr,D=t.userData,L=D.tokenBalance,z=D.stakedBalance,Q=D.earnings,R=L?Object(w.b)(new b.a(L)):0,K=z?Object(w.b)(new b.a(z)):0,Y=Q?Object(w.b)(new b.a(Q)):0,q=Object(m.a)(t.lpSymbol),V=new b.a(0);V=t.isKingdomToken?"Belt"!==t.farmType?q.div(k.i):new b.a(t.token.busdPrice).div(k.i):v?new b.a(v).div(new b.a(f)).times(B).div(k.i):new b.a(0);var I=L?new b.a(L).times(V).toNumber():0,E=z?new b.a(z).times(V).toNumber():0,W=O?"$".concat(Number(new b.a(O).times(B)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",$=x&&x.toLocaleString("en-US",{maximumFractionDigits:2});return M=Object(i.a)(Object(i.a)({},M),{},{compounding:t.compounding,farmAPR:$,apr:12===P?F:t.apr,cakePrice:c,quoteTokenPriceUsd:Number(B),lpTotalInQuoteToken:O}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Se,{}),Object(S.jsxs)(Ae,{children:["CUB"===t.token.symbol&&Object(S.jsx)(Te,{}),Object(S.jsxs)(Ue,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return u(!j)},children:[Object(S.jsx)("div",{className:"col",children:Object(S.jsx)(Ne,{src:"/images/farms/".concat(A,".png"),alt:p,width:64,height:64})}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(l.s,{justifyContent:"flex-start",alignItems:"center",children:Object(S.jsx)(l.M,{className:"token",children:p})}),Object(S.jsxs)(l.M,{children:["Uses: ",C]}),Object(S.jsxs)(l.M,{children:["TVL ",W]})]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(H,{fontSize:"16px",value:R,decimals:R?2:1,unit:"",color:R?"warning":"text"}),Object(S.jsx)(l.M,{children:"Balance"})]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(H,{fontSize:"16px",value:K,decimals:K?2:1,unit:"",color:K>1e-7?"warning":"text"}),Object(S.jsx)(l.M,{children:"Deposited"})]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(H,{fontSize:"16px",value:Y,decimals:Y?2:1,unit:"",color:Y?"warning":"text"}),Object(S.jsx)(l.M,{children:"Rewards"})]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(H,{fontSize:"16px",value:"NaN"!==U.toString()?U:0,decimals:2,unit:"%",color:"warning"}),Object(S.jsx)(l.M,{color:"warning",children:"APY"})]}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)(H,{fontSize:"16px",value:N,decimals:2,unit:"%"}),Object(S.jsx)(l.M,{children:"Daily"})]})]}),Object(S.jsxs)(Ce,{expanded:j,children:[Object(S.jsx)(Pe,{}),Object(S.jsx)(Be,{farm:t,walletBalance:R,depositBalance:K,rewardBalance:Y,walletBalanceQuoteValue:I,depositBalanceQuoteValue:E,farmName:C,oneTokenQuoteValue:V,removed:n,aprApy:M,account:r,cakePrice:c})]})]})]})},De=Object(x.e)(l.M)($||($=Object(r.a)(["\n  line-height: 1.5;\n\n"]))),Le=function(e){var t=e.value,n=e.decimals,c=e.prefix,a=e.fontSize,i=void 0===a?"16px":a,r=Object(B.useCountUp)({start:0,end:t,duration:1,separator:",",decimals:void 0!==n?n:t<0?4:t>1e5?0:3}),o=r.countUp,l=r.update,d=Object(s.useRef)(l);return Object(s.useEffect)((function(){d.current(t)}),[t,d]),Object(S.jsxs)(De,{fontSize:i,children:[c,o]})},ze=n(26),Qe=function(e,t){var n=ze.b,c=ze.b,a=0,i=0,r=0;e.forEach((function(e){if(e.isKingdom){var t=e.userData,s=e.lpTotalInQuoteTokenPCS,o=void 0===s?0:s,l=e.lpTokenBalancePCS,d=void 0===l?0:l,j=e.quoteToken.busdPrice,u=t.stakedBalance,x=t.earnings,O=Object(m.a)(e.lpSymbol),p=y(e);if(u>"1"){var h=ze.b;h=e.isKingdomToken?"Belt"!==e.farmType?O:new b.a(e.token.busdPrice):o?new b.a(o).div(new b.a(d)).times(j):new b.a(0);var f=u?new b.a(u).times(h):new b.a(0);c=c.plus(new b.a(f)),a=+a+ +p.totalAPY,i=+i+ +p.dailyAPR,r+=1}"0"!==x&&(n=n.plus(new b.a(x)))}}));var s=c!==ze.b?Object(w.b)(c):0,o=n!==ze.b?Object(w.b)(n):0;return[s,o,o?new b.a(o).multipliedBy(t).toNumber():0,a,i,r]},Re=x.e.div(J||(J=Object(r.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),Ke=function(e){var t=e.farms,n=e.cakePrice,c=Qe(t,n),i=Object(a.a)(c,6),r=i[0],s=i[1],o=i[2],d=i[3],j=i[4],b=i[5],u="NaN"!==d.toString()&&0!==d?d/b:0,x=j?j/b:0,O=r?"$".concat(r.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",p=x?"".concat(x.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",m=o?"$".concat(o.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return Object(S.jsx)(Re,{children:Object(S.jsxs)(l.s,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(l.M,{children:"Total Deposit"}),Object(S.jsx)(l.M,{fontSize:"18px",color:"textSubtle",children:O}),Object(S.jsxs)(l.M,{children:[b," assets"]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(l.M,{children:"Average APY"}),Object(S.jsx)(H,{fontSize:"18px",value:u,decimals:u?2:1,unit:"%",color:"textSubtle"}),Object(S.jsxs)(l.M,{children:["Daily ",p]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(l.M,{children:"CUB Rewards"}),Object(S.jsx)(H,{fontSize:"18px",value:s,decimals:s?2:1,unit:"",color:"textSubtle"}),Object(S.jsx)(l.M,{children:m})]})]})})},Ye=(n(900),x.e.div(G||(G=Object(r.a)(["\n  max-width: 400px;\n"])))),qe=function(){var e=Object(m.n)(),t=Object(o.f)().pathname,n=Object(m.e)(),r=n.data,j=(n.userDataLoaded,Object(m.k)()),x=Object(u.c)().account,w=Object(d.b)(),k=Object(h.a)().fastRefresh;Object(s.useEffect)((function(){x&&w(Object(f.a)(x))}),[x,w,k]);var y=t.includes("archived"),B=!t.includes("history")&&!y,P=r.filter((function(e){return e.isKingdom&&!Object(v.a)(e.pid)})),C=Object(s.useCallback)((function(e){return e.map((function(e){if(!e.lpTotalInQuoteToken)return e;var t=new b.a(e.lpTotalInQuoteToken).times(e.quoteToken.busdPrice),n=B?Object(g.a)(e.poolWeight,j,t):0;return Object(i.a)(Object(i.a)({},e),{},{apr:n,liquidity:t})}))}),[j,B]),A=Object(s.useMemo)((function(){var e=[];return B&&(e=C(P)),e}),[P,C,B]),M=Object(s.useState)({}),T=Object(a.a)(M,2),N=T[0],U=T[1],F=function(e,t,n,a){console.log("updating",e),N[e]?U(Object(i.a)(Object(i.a)({},N),{},Object(c.a)({},e,{depositBalanceQuoteValue:+N[e].depositBalanceQuoteValue+ +t,totalAPY:+N[e].totalAPY+ +n,dailyAPR:+N[e].dailyAPR+ +a}))):U(Object(i.a)(Object(i.a)({},N),{},Object(c.a)({},e,{depositBalanceQuoteValue:t,totalAPY:n,dailyAPR:a})))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{children:[Object(S.jsxs)("div",{className:"k-header",children:[Object(S.jsx)(l.t,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),Object(S.jsxs)(l.s,{children:[Object(S.jsx)(l.M,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),Object(S.jsx)(Le,{fontSize:"24px",value:e.toNumber(),prefix:"$",decimals:2})]})]}),Object(S.jsx)(l.t,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),Object(S.jsx)(l.t,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),Object(S.jsx)(l.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),Object(S.jsx)(l.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),Object(S.jsxs)(Ye,{children:[Object(S.jsx)(l.t,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),Object(S.jsx)(l.M,{children:"3%"})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Management Fee:"}),Object(S.jsx)(l.M,{children:"7%"})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"CUB Burn Rate:"}),Object(S.jsx)(l.M,{children:"100% of Fees Buyback and Burn CUB"})]}),Object(S.jsxs)(l.s,{justifyContent:"space-between",children:[Object(S.jsx)(l.M,{children:"Withdrawal Fee:"}),Object(S.jsx)(l.M,{children:"None"})]})]})]}),Object(S.jsxs)(O.a,{className:"k-container",children:[Object(S.jsx)(Ke,{farms:A,cakePrice:j,totalStake:N}),Object(S.jsx)("div",{id:"kingdoms",children:A.map((function(e){return Object(S.jsx)(Fe,{farm:e,cakePrice:j,account:x,removed:!1,updateTotalStake:F},e.pid)}))})]})]})}},817:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(1),a=n.n(c),i=n(6),r=n(0),s=n(62),o=n(54),l=n(112),d=n(790),j=function(e){var t=Object(o.b)(),n=Object(s.c)().account,c=e.user,j=void 0===c?"":c,b=e.amount,u=void 0===b?"":b,x=e.nonce,O=void 0===x?"":x,p=e.signature,m=void 0===p?"":p;return{onClaim:Object(r.useCallback)(Object(i.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)("0xa22efc88F3Eb641D881D0807dc8E305d71920cAB",n,j,u,O,m);case 2:return c=e.sent,t(Object(l.a)(n)),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),[t,n,j,u,O,m])}}},899:function(e,t,n){},900:function(e,t,n){}}]);
//# sourceMappingURL=7.500457f6.chunk.js.map