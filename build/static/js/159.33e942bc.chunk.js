"use strict";(self.webpackChunkcubdefi_frontend=self.webpackChunkcubdefi_frontend||[]).push([[159],{70668:function(e,n,a){var t=a(74165),i=a(15861),r=a(70885),d=a(47313),c=a(82229),s=a(31881),o=a.n(s),l=a(1689);n.Z=function(){var e=(0,d.useState)(),n=(0,r.Z)(e,2),a=n[0],s=n[1],u=(0,c.Ge)().account,f=(0,l.Z)().fastRefresh;return(0,d.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("https://bnb.fbslo.net/?address=".concat(u),{timeout:7e3}).then((function(e){return e.data})).catch((function(){return{error:!0}}));case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&e()}),[u,f]),a}},7374:function(e,n,a){a.d(n,{z:function(){return u}});var t=a(74165),i=a(15861),r=a(47313),d=a(82229),c=a(20438),s=a(63199),o=a(66285),l=a(33866),u=function(e){var n=(0,c.T)(),a=(0,d.Ge)().account,u=(0,l.AH)(),f=e.user,x=void 0===f?"":f,b=e.amount,m=void 0===b?"":b,h=e.nonce,p=void 0===h?"":h,v=e.signature,j=void 0===v?"":v;return{onClaim:(0,r.useCallback)((0,i.Z)((0,t.Z)().mark((function e(){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.QS)(u,a,x,m,p,j);case 2:return i=e.sent,n((0,s.IV)(a)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),[n,a,x,m,p,j,u])}}},50324:function(e,n){var a=3600,t=86400,i=2629800,r=31557600;n.Z=function(e){var n=Math.abs(e),d={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return n>=r&&(d.years=Math.floor(n/r),n-=d.years*r),n>=i&&(d.months=Math.floor(n/i),n-=d.months*i),n>=t&&(d.days=Math.floor(n/t),n-=d.days*t),n>=a&&(d.hours=Math.floor(n/a),n-=d.hours*a),n>=60&&(d.minutes=Math.floor(n/60),n-=60*d.minutes),d.seconds=n,d}},85159:function(e,n,a){a.r(n),a.d(n,{default:function(){return Pa}});var t=a(1413),i=a(70885),r=a(30168),d=a(47313),c=a(63830),s=a(20438),o=a(58704),l=a.n(o),u=a(82229),f=a(90240),x=a(49184),b=a(84485),m=a(91903),h=a(1689),p=a(63199),v=a(44383),j=a(16031),g=a(79581),k=a(76382),w=a(64647),y=a(4301),Z=a(77431),C=a(70668),P=a(64446),S=a(18941),B=JSON.parse('{"0x00e53c169da54a7e11172aeedf8eb87f060f479e":32.3,"0x0ecc84c9629317a494f12bc56aa2522475bf32e8":3.77,"0x0ed7e52944161450477ee417de9cd3a859b14fd0":3.49,"0x109cbffe72c02f26536ff8b92278dfd3610de656":15.97,"0x1472976e0b97f5b2fc93f1fff14e2b5c4447b64f":37.12,"0x1cc18962b919ef90085a8b21f8ddc95824fbad9e":3.15,"0x2bf2deb40639201c9a94c9e33b4852d9aea5fd2d":55.06,"0x2e28b9b74d6d99d4697e913b82b41ef1cac51c6c":1.56,"0x3747e3e107223539fd09bb730b055a1f11f78adf":16.06,"0x37ff7d4459ad96e0b01275e5efffe091f33c2cad":10,"0x3c2b7b578dd2175a1c3524aa0d515106282bf108":55.02,"0x3edb06e2d182d133864fe7c0f9b4c204bbf61d4e":6.05,"0x4ddd56e2f34338839bb5953515833950ea680afb":8.18,"0x58f876857a02d6762e0101bb5c46a8c1ed44dc16":18.05,"0x59fac9e98479fc9979ae2a0c7422af50bcbb9b26":15.34,"0x5b0a3b98c2f01741a11e57a9d0595b254e62f9f2":1.19,"0x5d937c3966002cbd9d32c890a59439b4b300a14d":14.19,"0x67efef66a55c4562144b9acfcfbc62f9e4269b3e":5.37,"0x69dee989c30b5ffe40867f5fc14f00e4bce7b681":4.36,"0x6a445ceb72c8b1751755386c3990055ff92e14a0":6.81,"0x74fa517715c4ec65ef01d55ad5335f90dce7cc87":22.51,"0x89ebf9cd99864f6e51bd7a578965922029cab977":11.45,"0xb5d108578be3750209d1b3a8f45ffee8c5a75146":7.05,"0xb5e33fe13a821e55ed33c884589a804b1b4f6fd8":2.12,"0xcaa662ad41a662b81be2aea5d59ec0697628665f":2.92,"0xdcfbb12ded3fea12d2a078bc6324131cd14bf835":6.35,"0xe267018c943e77992e7e515724b07b9ce7938124":2.77,"0xe834bf723f5bdff34a5d1129f3c31ea4787bc76a":20.03,"0xe8d5d81dac092ae61d097f84efe230759bf2e522":5.13,"0xf90baa331cfd40f094476e752bf272892170d399":14.38,"0x04b56a5b3f45cfeafbfdcfc999c14be5434f2146":8.8,"0x0648ff5de80adf54aac07ece2490f50a418dde23":19.76,"0x24d3b0ed4c444a4f6882d527cbf67adc8c026582":1.12,"0x289841bfb694767bcb56fbc7b741ab4b4d97d490":4.17,"0x28ea5894d4dbbe90bb58ee3bab2869387d711c87":14.04,"0x2a995d355d5df641e878c0f366685741fd18d004":1.02,"0x2d5db889392bc3c8b023a8631ca230a033eea1b8":5.36,"0x3cd338c3bb249b6b3c55799f85a589febbbff9dd":18.35,"0x3e19c18fe3458a6065d8f0844cb7eae52c9dae07":17.85,"0x3e4370204f598205998143f07ebcc486e441b456":6.25,"0x46c6ba71af7648cd7f67d0ad4d16f75be251ed12":10.52,"0x547a355e70cd1f8caf531b950905af751dbef5e6":12.28,"0x7275278c94b5e20708380561c4af98f38ddc6374":51.25,"0x7759283571da8c0928786a96ae601944e10461ff":19.66,"0x7b4682d2b3f8670b125af6aea8d7ed2daa43bdc1":6.83,"0x894bd57afd8efc93d9171cb585d11d0977557425":5.28,"0x89ee0491ce55d2f7472a97602a95426216167189":6.55,"0x8b2824d57eebf07f5aff5c91fa67ed7c501a9f43":94.02,"0x92247860a03f48d5c6425c7ca35cdcfcb1013aa1":10.05,"0x9392a1f471d9aa14c0b8eb28bd7a3f4a814727be":3.39,"0x946696344e7d4346b223e1cf77035a76690d6a73":9.82,"0x9d2296e2fe3cdbf2eb3e3e2ca8811bafa42eedff":21.79,"0xa39af17ce4a8eb807e076805da1e2b8ea7d0755b":21.35,"0xb87b857670a44356f2b70337e0f218713d2378e8":2.35,"0xba01662e978de7d67f8ffc937726215eb8995d17":63.98,"0xc19dfd34d3ba5816df9cbdaa02d32a9f8dc6f6fc":14.93,"0xc2d00de94795e60fb76bc37d899170996cbda436":11.06,"0xcdb0016d97fd0e7ec2c3b78aa4786cbd8e19c14c":9.71,"0xec6557348085aa57c72514d67070dc863c0a5a8c":1.72,"0xfdfde3af740a22648b9dd66d05698e5095940850":26.15,"0x1090c996fd1490d15dd7906322ee676a5cc3cf82":5.11,"0x1d94cb25895abd6ccfef863c53372bb462aa6b86":18.26,"0x222f93187f15f354d41ff6a7703ef7e18cdd5103":8.89,"0x226af4e918fcf3e62e5eeec867a3e78aaa7bb01d":21.22,"0x3c2c77353e2f6ac1578807b6b2336bf3a3cbb014":17.24,"0x41f049d990d38305504631c9835f6f856bf1ba67":96.91,"0x48028de4a9b0d3d91180333d796021ec7757ba1b":31.7,"0x4dca4d427511bc327639b222da18fa5e334f686f":22.62,"0x51bf99bbae59b67e5ce2fa9c17b683384773f8b3":4.51,"0x6045931e511ef7e53a4a817f971e0ca28c758809":15.46,"0x6e98beb694ff1cdb1ee130edd2b21b0298683d58":13.49,"0x804678fa97d91b974ec2af3c843270886528a9e6":27.55,"0x8853e3309a31583ea438f7704681f46f0d4d909b":5.34,"0x8e04b3972b5c25766c681dfd30a8a1cbf6dcc8c1":6.13,"0x8fa59693458289914db0097f5f366d771b7a7c3f":9.83,"0xa0387ebea6be90849c2261b911fbbd52b4c9eac4":33.83,"0xa4963b38b271c0d714593063497fc786fa4029ce":3.39,"0xb8b4383b49d451bbea63bc4421466e1086da6f18":0.62,"0xc74f7243766269dec5b85b0ef4af186e909c1b06":8.2,"0xcecfc2789af72ed151589a96a59f3a1abc65c3b5":28.56,"0xd171b26e4484402de70e3ea256be5a2630d7e88d":2.61,"0xdc7188ac11e124b1fa650b73ba88bf615ef15256":48.72,"0xdfa808da5cfb9aba5fb3748ff85888f79174f378":12.59,"0xea26b78255df2bbc31c1ebf60010d78670185bd0":10.76,"0xec95ff6281c3ad8e27372fa6675eb337640b8e5e":0.03,"0xecf30fbecfa642012f54212a3be92eef1e48edac":5.44,"0xef5212ada83ec2cc105c409df10b8806d20e3b35":17.18,"0xef7767677867552cfa699148b96a03358a9be779":6.12,"0xf23bad605e94de0e3b60c9718a43a94a5af43915":11.79,"0xf74ee1e10e097dc326a2ad004f9cc95cb71088d3":11.82,"0x029d66f9c0469450b7b4834b8ddc6a1118cec3e1":5.34,"0x0604471c532f9febad3e37190b667f44bd0894b3":148.72,"0x0716725d78081a9e0e1ff81516f5415b399e274d":2.82,"0x2030845ce7d4224523fd2f03ca20afe4aad1d890":0.91,"0x2c624c9ecf16cb81ab85cc2c0b0c5e12a09afda6":0.4,"0x4cc442220be1ce560c1f2573f8ca8f460b3e4172":2.13,"0x4d057f769d930eafd597b49d6fb2e1009a73a702":5.8,"0x4eafbf68a2d50291ffd163d4e00ad0f040aae707":0,"0x4fd6d315bef387fad2322fbc64368fc443f0886d":4.95,"0x61010e6cba3b56ba47e9dfd56da682dacfe76131":11.28,"0x6a00e41561ac36a78dba1d09091b0f00c4e53724":19.11,"0x7752e1fa9f3a2e860856458517008558deb989e3":19.95,"0x8046fa66753928f35f7db23ae0188ee6743c2fba":0.28,"0x8271d7eafeeb8f24d7c9fe1acce2ae20611972e5":15.1,"0x8d3ff27d2ad6a9556b7c4f82f4d602d20114bc90":3.56,"0x950fd020f8e4b8c57285ec7020b7a204348dadfa":1.8,"0xa7a0b605343df36b748ff4b5f7578b3f2d0651ce":21.25,"0xaa40f1ac20aafcfee8595da606d78c503c7e70a3":4.91,"0xac109c8025f272414fd9e2faa805a583708a017f":3.36,"0xb7cada0f120ca46745a024e6b9fe907b2fe10cf3":24.38,"0xbc7ac609fa730239190a70952e64ee1dfc2530ac":2.26,"0xbcf01a42f6bc42f3cfe81b05519565044d65d22a":0.36,"0xc20a92a1424b29b78dfaf92fd35d4cf8a06419b4":6.06,"0xc309a6d2f1537922e06f15aa2eb21caa1b2eedb6":9.68,"0xdaa89d335926628367b47852989bb22ee62ca5de":0,"0xdc9a574b9b341d4a98ce29005b614e1e27430e74":2.35,"0xdde420cbb3794ebd8ffc3ac69f9c78e5d1411870":11.75,"0xe6b421a4408c82381b226ab5b6f8c4b639044359":8.55,"0xea61020e5a128d2bec67d48f7cfbe3408db7e391":1.27,"0xf45cd219aef8618a92baa7ad848364a158a24f33":6.8,"0x0362ba706dfe8ed12ec1470ab171d8dcb1c72b8d":121.88,"0x123d475e13aa54a43a7421d94caa4459da021c77":6.28,"0x1434bb50196a0c7ea825940b1dfd8aad25d79817":17.15,"0x153ad7d25b0b810497483d0cee8af42fc533fec8":1.84,"0x20c6de8983fb2d641c55004646aef40b4ea66e18":0.37,"0x222c3cbb89647bf77822435bd4c234a04272a77a":17.86,"0x3578b1f9bce98d2f4d293b422d8850fdf48b1f21":14.72,"0x3e42c1f7239231e3752b507764445dd8e6a570d5":4.07,"0x3f1a9f3d9aad8bd339ed4853f345d2ef89fbfe0c":13.1,"0x510b29a93ebf098f3fc24a16541aaa0114d07056":11.14,"0x5a58609da96469e9def3fe344bc39b00d18eb9a5":1.05,"0x5afef8567414f29f0f927a0f2787b188624c10e2":12.09,"0x6615ce60d71513aa4849269dd63821d324a23f8c":8.14,"0x678edb8b268e73db57b7694c163e1dc296b6e219":3.1,"0x6a97867a4b7eb7646ffb1f359ad582e9903aa1c2":4.34,"0x6d0c831254221ba121fb53fb44df289a6558867d":17.1,"0x81d776c90c89b8d51e9497d58338933127e2fa80":1.7,"0x853784b7bde87d858555715c0123374242db7943":12.61,"0x89666d026696660e93bf6edf57b71a68615768b7":3.64,"0x8f6baf368e7a4f6e2c9c995f22702d5e654a0237":1.24,"0x9730c791743300e9f984c9264395ce705a55da7c":6.96,"0xa5bb44c6f5fd9b836e5a654c8abbccc96a15dee5":14.39,"0xcad7019d6d84a3294b0494aef02e73bd0f2572eb":11.31,"0xd02da76c813b9cd4516ed50442923e625f90228f":6.95,"0xe482249cd295c0d1e9d2baaee71e66de21024c68":173.32,"0xe60b4e87645093a42fa9dcc5d0c8df6e67f1f9d2":42.1,"0xe98585bbb2dc81854ff100a3d9d7b0f53e0dafed":6.03,"0xf1ec67fa1881796bff63db3e1a301ce9cb787fad":7.46,"0xf3bc6fc080ffcc30d93df48bfa2aa14b869554bb":1.84,"0xffd4b200d3c77a0b691b5562d804b3bd54294e6e":6.29,"0x05faf555522fa3f93959f86b41a3808666093210":6.15,"0x13321acff4a27f3d2bca64b8beac6e5fdaaaf12c":2.89,"0x16afc4f2ad82986bbe2a4525601f8199ab9c832d":6.61,"0x1b415c3ec8095afbf9d78882b3a6263c4ad141b5":3.8,"0x1f37d4226d23d09044b8005c127c0517bd7e94fd":5.62,"0x21dd71ab78ede3033c976948f769d506e4f489ee":6.02,"0x2354ef4df11afacb85a5c7f98b624072eccddbb1":3.82,"0x24eb18ba412701f278b172ef96697c4622b19da6":16.96,"0x37908620def1491dd591b5a2d16022a33cdda415":2.69,"0x4288706624e3dd839b069216eb03b8b9819c10d2":2.89,"0x47c42b0a056a9c6e9c65b9ef79020af518e767a5":0.7,"0x66fdb2eccfb58cf098eaa419e5efde841368e489":4.2,"0x71b01ebddd797c8e9e0b003ea2f4fd207fbf46cc":3.36,"0x7653d2c31440f04d2c6520d482dc5dbd7650f70a":9.15,"0x856f9ad94ca8680b899214bb1eb3d235a3c33afe":5.34,"0x8e799cb0737525ceb8a6c6ad07f748535ff6377b":24.07,"0x91417426c3feaa3ca795921eb9fdd9715ad92537":0.19,"0x942b294e59a8c47a0f7f20df105b082710f7c305":3.48,"0xa3bfbbad526c6b856b1fdf73f99bcd894761fbf3":0.36,"0xa9986fcbdb23c2e8b11ab40102990a08f8e58f06":15.38,"0xb2678c414ebc63c9cc6d1a0fc45f43e249b50fde":14.85,"0xc05654c66756ebb82c518598c5f1ea1a0199a563":0.28,"0xc13aa76aac067c86ae38028019f414d731b3d86a":23.64,"0xc5768c5371568cf1114cddd52caed163a42626ed":14.51,"0xc6b668548aa4a56792e8002a920d3159728121d5":13.18,"0xc7a9c2af263ebb86139cca9349e49b17129ba033":1.53,"0xc869a9943b702b03770b6a92d2b2d25cf3a3f571":1.4,"0xcd68856b6e72e99b5eeaae7d41bb4a3b484c700d":166.07,"0xe094c686ad6cdda57b9564457f541fbf099b948a":5.33,"0xec6b56a736859ae8ea4beda16279ecd8c60da7ea":0.16,"0x014608e87af97a054c9a49f81e1473076d51d9a3":4.5,"0x03f18135c44c64ebfdcbad8297fe5bdafdbbdd86":5.24,"0x133ee93fe93320e1182923e1a640912ede17c90c":4.86,"0x168b273278f3a8d302de5e879aa30690b7e6c28f":3.54,"0x16b9a82891338f9ba80e2d6970fdda79d1eb0dae":19.05,"0x1bdcebca3b93af70b58c41272aea2231754b23ca":7.98,"0x28415ff2c35b65b9e5c7de82126b4015ab9d031f":13.6,"0x356dd24bff8e23bde0430f00ad0c290e33438bd7":67.12,"0x3dcb1787a95d2ea0eb7d00887704eebf0d79bb13":17.58,"0x44ea47f2765fd5d26b7ef0222736ad6fd6f61950":20.06,"0x460b4193ec4c1a17372aa5fdcd44c520ba658646":37.45,"0x468b2dc8dc75990ee3e9dc0648965ad6294e7914":87.33,"0x61eb789d75a95caa3ff50ed7e47b96c132fec082":4.12,"0x73566ca86248bd12f0979793e4671e99a40299a7":18.07,"0x74e4716e431f45807dcf19f284c7aa99f18a4fbc":5.02,"0x7eb5d86fd78f3852a3e0e064f2842d45a3db6ea2":10.14,"0x7efaef62fddcca950418312c6c91aef321375a00":2.64,"0x824eb9fadfb377394430d2744fa7c42916de3ece":5.15,"0x8645148de4e339964ba480ae3478653b5bc6e211":1.91,"0xacf47cbeaab5c8a6ee99263cfe43995f89fb3206":3.84,"0xb6e34b5c65eda51bb1bd4ea5f79d385fb94b9504":17.57,"0xce383277847f8217392eea98c5a8b4a7d27811b0":5.37,"0xd63b5cecb1f40d626307b92706df357709d05827":4.13,"0xd8e2f8b6db204c405543953ef6359912fe3a88d6":5.78,"0xd9bccbbbdfd9d67beb5d2273102ce0762421d1e3":89.21,"0xdd5bad8f8b360d76d12fda230f8baf42fe0022cf":9.17}'),T=function(e,n){return e&&n?(e+n).toLocaleString("en-US",{maximumFractionDigits:2}):e?e.toLocaleString("en-US",{maximumFractionDigits:2}):null},D=function(e,n,a,t,i){var r,d,c,s=e.apr,o=e.isKingdom,u=e.poolWeightPCS,f=e.compounding,x=e.lpTokenBalancePCS,b=void 0===x?0:x,m=e.lpTotalInQuoteTokenPCS,h=void 0===m?0:m,p=e.quoteToken.busdPrice,j=e.altPid,g=e.farmType,k=e.beltAPR;if(12===j){var w=new(l())(i.lpTotalInQuoteToken).times(i.quoteToken.busdPrice);c=(0,v.yW)(i.poolWeight,i.tokenPriceVsQuote,w);var y=new(l())(c).div(new(l())(365)).toNumber(),Z=100*(Math.pow(c/100/f+1,f)-1),C=Z,D=C&&C.toLocaleString("en-US",{maximumFractionDigits:2});return{hostApr:c,dailyAPR:y,farmAPY:Z,totalAPY:C,totalAPYString:D,newMultiplier:i.multiplier}}if("CAKE"===e.lpSymbol)c=(0,v.E)(Number(e.token.busdPrice),Number(e.token.busdPrice),(0,P.mW)(new(l())(b).times(S.o3),18),parseFloat("10"));else{var N=new(l())(h).times(p),A=n;"Bakery"===g?A=a:"Belt"===g&&(A=t),c="Belt"===g?Number(k):(0,v.yW)(new(l())(u),A,N,o,g)}var U=null!==(r=B[null===(d=e.lpAddresses[56])||void 0===d?void 0:d.toLocaleLowerCase()])&&void 0!==r?r:0,F=T(c,U);"Bakery"===g&&(c=10);var L=c?new(l())(c).div(new(l())(365)).toNumber():new(l())(0).toNumber(),z=100*(Math.pow(c/100/f+1,f)-1);"Pancake v2"===g&&(z=100*(Math.pow(Number(F)/100/f+1,f)-1));var M=s?s+z:z,O=M&&M.toLocaleString("en-US",{maximumFractionDigits:2});return{hostApr:c,dailyAPR:L,farmAPY:z,totalAPY:M,totalAPYString:O,lpRewardsApr:U,aprWithLpRewards:F}},N=a(87977),A=a(46417),U=function(e){var n=e.value,a=e.fontSize,t=e.color,i=e.decimals,r=e.isDisabled,c=e.unit,s=e.bold,o=(0,d.useRef)(0);return(0,d.useEffect)((function(){o.current=n}),[n]),(0,A.jsxs)(f.xv,{bold:s,color:r?"textDisabled":t,fontSize:a,children:[(0,A.jsx)(N.ZP,{start:o.current,end:n,decimals:i,duration:1,separator:","}),n&&c&&(0,A.jsx)("span",{children:c})]})};U.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var F,L,z,M,O,I,E,W,K,R,q,Q,V,Y,H,X,G,$,_,J,ee=U,ne=a(19439),ae=a(74165),te=a(15861),ie=a(54545),re=a(68869),de=a(49908),ce=a(89498),se=a(29608),oe=a(98059),le=a(89680),ue=a(7374),fe=a(48574),xe=a(30652),be=a(27163),me=x.ZP.div(F||(F=(0,r.Z)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background})),he=(0,x.ZP)(f.zx)(L||(L=(0,r.Z)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),pe=x.ZP.div(z||(z=(0,r.Z)(["\n  display: flex;\n"]))),ve=x.ZP.span(M||(M=(0,r.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),je=function(e){var n=e.farm,a=e.walletBalance,t=e.depositBalance,r=e.rewardBalance,s=e.walletBalanceQuoteValue,o=e.depositBalanceQuoteValue,u=e.addLiquidityUrl,x=e.account,b=e.cakePrice,h=e.bnbDividends,p=(0,c.TH)(),v=(0,m.Pu)("BNB-BUSD LP"),j=(0,d.useState)(!1),g=(0,i.Z)(j,2),k=g[0],w=g[1],y=(0,d.useState)(!1),Z=(0,i.Z)(y,2),C=Z[0],P=Z[1],B=(0,d.useState)(!1),T=(0,i.Z)(B,2),D=T[0],N=T[1],U=n.pid,F=n.isTokenOnly,L=n.isKingdom,z=n.isKingdomToken,M=n.lpSymbol,O=n.lpAddresses,I=n.token.address,E=M.toUpperCase(),W=n.userData||{},K=W.allowance,R=void 0===K?0:K,q=W.tokenBalance,Q=void 0===q?0:q,V=W.stakedBalance,Y=void 0===V?0:V,H=new(l())(R),X=new(l())(Q),G=new(l())(Y),$=r?new(l())(r).multipliedBy(b).toNumber():0,_=(0,be.Z)(),J=(0,ce.ZP)(U,L).onStake,ne=(0,se.ZP)(U,L).onUnstake,je=(0,oe.vj)(U,L).onReward,ge=(0,ue.z)(h||{}).onClaim,ke=x&&H&&H.isGreaterThan(0),we=(0,f.dd)((0,A.jsx)(re.Z,{max:X,onConfirm:J,tokenName:E,addLiquidityUrl:u,isTokenOnly:F,isKingdomToken:z})),ye=(0,i.Z)(we,1)[0],Ze=(0,f.dd)((0,A.jsx)(de.Z,{max:G,onConfirm:ne,tokenName:E,isTokenOnly:F,isKingdomToken:z})),Ce=(0,i.Z)(Ze,1)[0],Pe=(0,xe.Kn)(O),Se=(0,xe.Kn)(I),Be=(0,d.useMemo)((function(){return F||z?(0,fe.jS)(Se,_):(0,fe.jS)(Pe,_)}),[Pe,F,_,Se,z]),Te=(0,le.yA)(Be,L).onApprove,De=(0,d.useCallback)((0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,Te();case 4:w(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Te]),Ne=(0,A.jsx)(he,{mt:"8px",disabled:k||p.pathname.includes("archived"),onClick:De,children:"Approve Contract"}),Ae=h&&h.amount?new(l())(h.amount).div(S.o3).toNumber():0,Ue=Ae?new(l())(Ae).multipliedBy(v).toNumber():0,Fe=null;return Fe="CUB"===n.lpSymbol?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.xv,{children:"BNB Dividends"}),(0,A.jsxs)(pe,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:Ae,decimals:Ae?3:2,unit:""}),"\xa0",(0,A.jsx)(ve,{children:"("}),(0,A.jsx)(ie.Z,{value:Ue}),(0,A.jsx)(ve,{children:")"})]}),(0,A.jsx)(he,{disabled:0===Ae||D||!ke,onClick:(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,ge();case 3:N(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.xv,{children:"CUB Rewards"}),(0,A.jsxs)(pe,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:r,decimals:r?3:2,unit:""}),"\xa0",(0,A.jsx)(ve,{children:"("}),(0,A.jsx)(ie.Z,{value:$}),(0,A.jsx)(ve,{children:")"})]}),(0,A.jsx)(he,{disabled:0===r||C||!ke,onClick:(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,je();case 3:P(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),(0,A.jsx)(me,{children:(0,A.jsx)("div",{className:"k-card",children:(0,A.jsxs)("div",{className:"flex-grid",children:[(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.kC,{justifyContent:"space-between",children:(0,A.jsx)(f.xv,{children:"Balance (Wallet)"})}),(0,A.jsxs)(pe,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:a,decimals:a?3:2,unit:""}),"\xa0",(0,A.jsx)(ve,{children:"("}),(0,A.jsx)(ie.Z,{value:s}),(0,A.jsx)(ve,{children:")"})]}),ke?(0,A.jsx)(he,{mt:"8px",fullWidth:!0,onClick:ye,children:"Deposit"}):Ne]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.kC,{justifyContent:"space-between",children:(0,A.jsx)(f.xv,{children:"Deposit (Staked)"})}),(0,A.jsxs)(pe,{children:[(0,A.jsx)(ee,{fontSize:"16px",value:t,decimals:t?3:2,unit:""}),"\xa0",(0,A.jsx)(ve,{children:"("}),(0,A.jsx)(ie.Z,{value:o}),(0,A.jsx)(ve,{children:")"})]}),ke?(0,A.jsx)(he,{mt:"8px",fullWidth:!0,onClick:Ce,children:"Withdraw"}):Ne]}),(0,A.jsx)("div",{className:"col",children:Fe})]})})})},ge=a(22096),ke=function(e){var n=e.aprApy,a=e.lpLabel,t=e.addLiquidityUrl,i=n.farmAPR,r=n.apr,d=n.compounding,c=n.hostApr,s=n.dailyAPR,o=n.farmAPY,u=n.totalAPYString,x=n.cakePrice,b=n.aprWithLpRewards,m=n.lpRewardsApr;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{color:"warning",children:"Total APY:"}),(0,A.jsxs)(f.xv,{bold:!0,color:"warning",children:[u,"%"]})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Farm APR:"}),(0,A.jsx)(f.xv,{children:"".concat(new(l())(c).toFixed(2),"% (").concat(new(l())(s).toFixed(3),"%)")})]}),m?(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"APR+LP rewards:"}),(0,A.jsxs)(f.xv,{children:[b,"%"]})]}):null,(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Compounds / year:"}),(0,A.jsxs)(f.xv,{children:["~",d]})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Farm APY:"}),(0,A.jsx)(ee,{fontSize:"16px",value:o,decimals:2,unit:"%"})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,A.jsx)(f.xv,{children:"CUB APR:"}),(0,A.jsx)(f.xv,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ge.Z,{lpLabel:a,addLiquidityUrl:t,cakePrice:x,apr:r}),i||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):(0,A.jsx)(f.Od,{height:24,width:80})})]})]})},we=x.ZP.div(O||(O=(0,r.Z)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"]))),ye=x.ZP.div(I||(I=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),Ze=x.ZP.div(E||(E=(0,r.Z)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),Ce=(0,x.ZP)(f.rU)(W||(W=(0,r.Z)(["\n  font-weight: 400;\n"]))),Pe=x.ZP.div(K||(K=(0,r.Z)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),Se=function(e){var n=e.farm,a=e.walletBalance,t=e.depositBalance,i=e.rewardBalance,r=e.walletBalanceQuoteValue,d=e.depositBalanceQuoteValue,c=e.farmName,s=e.oneTokenQuoteValue,o=e.removed,l=e.aprApy,u=e.account,x=e.cakePrice,b=e.bnbDividends,m=s&&"NaN"!==s.toString()?"~$".concat(s.times(S.o3).toFixed(2)):"-",h=n.lpSymbol,p=n.multiplier,v=n.quoteToken,j=n.token,g=n.lpAddresses,k=n.isTokenOnly,w=n.isKingdomToken,y=n.kingdomContract,Z=n.altPid,C=h&&h.toUpperCase().replace("PANCAKE",""),P=(0,ne.Z)({quoteTokenAddress:v.address,tokenAddress:j.address}),B=g[56],T=j.address[56],D="https://bscscan.com/token/".concat(k||w?T:B),N="https://bscscan.com/address/".concat(y),U="https://pancakeswap.info/pair/".concat(k?T:B),F=S.LJ,L="".concat(S.nd,"/swap/").concat(j.address[56]),z="".concat(F,"/").concat(P);"Bakery"===n.farmType?(F=S.sl,z="".concat(F,"/").concat(P),U="https://info.bakeryswap.org/#/pair/".concat(k?T:B)):"Belt"===n.farmType&&(z=F=S.N9,L=F,U=F);var M=p;return l.newMultiplier&&(M="".concat(l.newMultiplier,"*")),(0,A.jsxs)(Ze,{children:[(0,A.jsx)(je,{farm:n,walletBalance:a,depositBalance:t,rewardBalance:i,walletBalanceQuoteValue:r,depositBalanceQuoteValue:d,addLiquidityUrl:z,account:u,cakePrice:x,bnbDividends:b}),(0,A.jsxs)(we,{className:"k-details",children:[(0,A.jsxs)(ye,{children:[(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsxs)(f.xv,{children:[h,":"]}),(0,A.jsxs)(f.xv,{children:["(",m,")"]})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Multiplier:"}),(0,A.jsx)(f.xv,{children:M})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Type:"}),(0,A.jsx)(f.xv,{children:"Auto-compound"})]}),12===Z?(0,A.jsx)(Pe,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Farm:"}),(0,A.jsx)(f.xv,{children:c})]})]}),(0,A.jsx)(ye,{children:(0,A.jsx)(ke,{aprApy:l,lpLabel:C,addLiquidityUrl:z})}),(0,A.jsxs)(ye,{children:[(0,A.jsx)(Ce,{external:!0,href:D,children:"Farm Contract"}),(0,A.jsx)(Ce,{external:!0,href:N,children:"Kingdom Contract"}),!o&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Ce,{external:!0,href:L,children:"Buy ".concat(j.symbol)}),(0,A.jsx)(Ce,{external:!0,href:z,children:"Add Liquidity"})]}),(0,A.jsx)(Ce,{external:!0,href:U,children:"See Token Info"})]})]})]})},Be=x.ZP.div(R||(R=(0,r.Z)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Te=x.ZP.div(q||(q=(0,r.Z)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),De=x.ZP.div(Q||(Q=(0,r.Z)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Ne=x.ZP.div(V||(V=(0,r.Z)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),Ae=(0,x.F4)(Y||(Y=(0,r.Z)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),Ue=x.ZP.div(H||(H=(0,r.Z)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),Ae),Fe=(0,x.ZP)(f.Ee)(X||(X=(0,r.Z)(["\n  width: 64px;\n"]))),Le=x.ZP.div(G||(G=(0,r.Z)(["\n  cursor: pointer;\n"]))),ze=function(e){var n=e.farm,a=e.removed,r=e.cakePrice,c=e.account,s=e.bakePrice,o=e.beltPrice,u=e.cubDen,x=e.realCakePrice,b=e.bnbDividends,m=(0,d.useState)(!1),h=(0,i.Z)(m,2),p=h[0],v=h[1],j=n.apr,g=n.lpTotalInQuoteToken,k=n.lpSymbol,w=n.lpTokenBalancePCS,y=void 0===w?0:w,Z=n.lpTotalInQuoteTokenPCS,C=void 0===Z?0:Z,B=n.quoteToken.busdPrice,T=n.altPid,N=n.farmType,U=n.token.busdPrice,F=n.compounding,L=k.split(" ")[0].toLocaleLowerCase(),z=D(n,x,s,o,u),M=z,O=M.dailyAPR,I=M.totalAPY,E=M.hostApr,W=n.userData,K=W.tokenBalance,R=W.stakedBalance,q=W.earnings,Q=K?(0,P.mW)(new(l())(K)):0,V=R?(0,P.mW)(new(l())(R)):0,Y=q?(0,P.mW)(new(l())(q)):0,H=new(l())(U),X=new(l())(0);X=n.isKingdomToken?"Belt"!==n.farmType?H.div(S.o3):new(l())(n.token.busdPrice).div(S.o3):C?new(l())(C).div(new(l())(y)).times(B).div(S.o3):new(l())(0);var G=K?new(l())(K).times(X).toNumber():0,$=R?new(l())(R).times(X).toNumber():0,_=g?"$".concat(Number(new(l())(g).times(B)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",J=j&&j.toLocaleString("en-US",{maximumFractionDigits:2});return z=(0,t.Z)((0,t.Z)({},z),{},{compounding:F,farmAPR:J,apr:12===T?E:j,cakePrice:r,quoteTokenPriceUsd:Number(B),lpTotalInQuoteToken:g}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Te,{}),(0,A.jsxs)(Ne,{children:["CUB"===n.token.symbol&&(0,A.jsx)(Ue,{}),(0,A.jsxs)(Le,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return v(!p)},children:[(0,A.jsx)("div",{className:"col",children:(0,A.jsx)(Fe,{src:"/images/farms/".concat(L,".png"),alt:k,width:64,height:64})}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.kC,{justifyContent:"flex-start",alignItems:"center",children:(0,A.jsx)(f.xv,{className:"token",children:k})}),(0,A.jsxs)(f.xv,{children:["Uses: ",N]}),(0,A.jsxs)(f.xv,{children:["TVL ",_]})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:Q,decimals:Q?2:1,unit:"",color:Q?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Balance"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:V,decimals:V?2:1,unit:"",color:V?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Deposited"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:Y,decimals:Y?2:1,unit:"",color:Y?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Rewards"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:"NaN"!==I.toString()?I:0,decimals:2,unit:"%",color:"warning"}),(0,A.jsx)(f.xv,{color:"warning",children:"APY"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:O,decimals:2,unit:"%"}),(0,A.jsx)(f.xv,{children:"Daily"})]})]}),(0,A.jsxs)(De,{expanded:p,children:[(0,A.jsx)(Be,{}),(0,A.jsx)(Se,{farm:n,walletBalance:Q,depositBalance:V,rewardBalance:Y,walletBalanceQuoteValue:G,depositBalanceQuoteValue:$,farmName:N,oneTokenQuoteValue:X,removed:a,aprApy:z,account:c,cakePrice:r,bnbDividends:b})]})]})]})},Me=(0,x.ZP)(f.xv)($||($=(0,r.Z)(["\n  line-height: 1.5;\n\n"]))),Oe=function(e){var n=e.value,a=e.decimals,t=e.prefix,i=e.fontSize,r=void 0===i?"16px":i,c=(0,N.$i)({start:0,end:n,duration:1,separator:",",decimals:void 0!==a?a:n<0?4:n>1e5?0:3}),s=c.countUp,o=c.update,l=(0,d.useRef)(o);return(0,d.useEffect)((function(){l.current(n)}),[n,l]),(0,A.jsxs)(Me,{fontSize:r,children:[t,s]})},Ie=a(38301),Ee=function(e,n,a,t,i){var r=Ie.H,d=Ie.H,c=0,s=0,o=0;e.forEach((function(e){if(e.isKingdom){var u=e.userData,f=e.lpTotalInQuoteTokenPCS,x=void 0===f?0:f,b=e.lpTokenBalancePCS,m=void 0===b?0:b,h=e.quoteToken.busdPrice,p=e.token.busdPrice,v=u.stakedBalance,j=u.earnings,g=D(e,n,a,t,i);if(v>"1"){var k=Ie.H;k=e.isKingdomToken?"Belt"!==e.farmType?p:new(l())(e.token.busdPrice):x?new(l())(x).div(new(l())(m)).times(h):new(l())(0);var w=v?new(l())(v).times(k):new(l())(0);d=d.plus(new(l())(w)),c=+c+ +g.totalAPY,s=+s+ +g.dailyAPR,o+=1}"0"!==j&&(r=r.plus(new(l())(j)))}}));var u=d!==Ie.H?(0,P.mW)(d):0,f=r!==Ie.H?(0,P.mW)(r):0;return[u,f,f?new(l())(f).multipliedBy(n).toNumber():0,c,s,o]},We=x.ZP.div(_||(_=(0,r.Z)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),Ke=function(e){var n=e.farms,a=e.cakePrice,t=e.bakePrice,r=e.beltPrice,d=e.cubDen,c=Ee(n,a,t,r,d),s=(0,i.Z)(c,6),o=s[0],l=s[1],u=s[2],x=s[3],b=s[4],m=s[5],h="NaN"!==x.toString()&&0!==x?x/m:0,p=b?b/m:0,v=o?"$".concat(o.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",j=p?"".concat(p.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",g=u?"$".concat(u.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return(0,A.jsx)(We,{children:(0,A.jsxs)(f.kC,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(f.xv,{children:"Total Deposit"}),(0,A.jsx)(f.xv,{fontSize:"18px",color:"textSubtle",children:v}),(0,A.jsxs)(f.xv,{children:[m," assets"]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(f.xv,{children:"Average APY"}),(0,A.jsx)(ee,{fontSize:"18px",value:h,decimals:h?2:1,unit:"%",color:"textSubtle"}),(0,A.jsxs)(f.xv,{children:["Daily ",j]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(f.xv,{children:"CUB Rewards"}),(0,A.jsx)(ee,{fontSize:"18px",value:l,decimals:l?2:1,unit:"",color:"textSubtle"}),(0,A.jsx)(f.xv,{children:g})]})]})})},Re=a(28303),qe=a(1760),Qe=function(e){var n,a=e.hasStakeInFinishedFarms,t=e.hasStakeInArchivedFarms,i=(0,c.$B)().url,r=(0,c.TH)(),d=(0,qe.Z)();switch(r.pathname){case"/kingdoms":default:n=0;break;case"/kingdoms/history":n=1;break;case"/kingdoms/archived":n=2}return(0,A.jsx)(Ve,{children:(0,A.jsxs)(f.xz,{activeIndex:n,scale:"sm",variant:"subtle",children:[(0,A.jsx)(f.kg,{as:Re.rU,to:"".concat(i),children:d(1198,"Live")}),(0,A.jsx)(f.Bw,{show:a,children:(0,A.jsx)(f.kg,{as:Re.rU,to:"".concat(i,"/history"),children:d(388,"Finished")})}),(0,A.jsx)(f.Bw,{show:t,children:(0,A.jsx)(f.kg,{as:Re.rU,to:"".concat(i,"/archived"),children:d(999,"Discontinued")})})]})})},Ve=x.ZP.div(J||(J=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 10px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ye=a(54649),He=a(65951),Xe=a(35140),Ge=a(60523),$e=a(11977),_e=function(e){var n=e.onConfirm,a=e.onDismiss,t=e.tokenName,r=void 0===t?"":t,c=e.isTokenOnly,s=e.isKingdomToken,o=(e.hasWithdrawFee,e.performanceFee),u=e.shares,x=e.pricePerFullShare,b=(0,d.useState)(""),m=(0,i.Z)(b,2),h=m[0],p=m[1],v=(0,d.useState)(!1),j=(0,i.Z)(v,2),g=j[0],k=j[1],w=(0,qe.Z)(),y=(0,d.useMemo)((function(){return new(l())(null===u||void 0===u?void 0:u.minus(o).multipliedBy(x).dividedBy(new(l())(10).pow(18)).toFixed(18))||new(l())(0)}),[u,o,x]);function Z(e){var n=new(l())(e),a=n.multipliedBy(new(l())(10).pow(18)).dividedBy(x).plus(o.times(n.div(y)));return a.isGreaterThan(u.times(.999))?u.toString():a.toFixed(0)}var C=new(l())(h),P=(0,d.useCallback)((function(e){e.currentTarget.validity.valid&&p(e.currentTarget.value.replace(/,/g,"."))}),[p]),S=(0,d.useCallback)((function(){p(y.toString())}),[y,p]);return(0,A.jsxs)(f.u_,{title:w(1126,c||s?"Unstake tokens":"Unstake LP tokens"),onDismiss:a,children:[(0,A.jsx)($e.Z,{onSelectMax:S,onChange:P,value:h,max:new(l())(y.toFixed(18)).toString(),symbol:r,inputTitle:w(588,"Unstake")}),(0,A.jsxs)(Ge.Z,{children:[(0,A.jsx)(f.zx,{variant:"secondary",onClick:a,width:"100%",disabled:g,children:w(462,"Cancel")}),(0,A.jsx)(f.zx,{disabled:g||!C.isFinite()||C.eq(0)||C.gt(y),onClick:(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,n(Z(h));case 3:k(!1),a();case 5:case"end":return e.stop()}}),e)}))),width:"100%",children:g?w(488,"Pending Confirmation"):w(464,"Confirm")})]})]})},Je=a(88553),en=a(19560),nn=a(57042),an=a(6321),tn=a(11822),rn=a.n(tn),dn=a(84951),cn=a(29074),sn=a(45853),on=a(23935),ln=(0,xe.Oc)(),un=en.O$.from("1000000000000"),fn=function(e,n,a){return e.mulUnsafe(nn.xs.from(an.Ce)).divUnsafe(n).divUnsafe(a).mulUnsafe(nn.xs.from(100))},xn=function(e,n,a){return nn.xs.from(e).mulUnsafe(nn.xs.from(Math.max(n,0))).divUnsafe(nn.xs.from(a)).divUnsafe(nn.xs.from(un))},bn=function(e,n){return nn.xs.from(e).mulUnsafe(n.addUnsafe(nn.xs.from("1")))};function mn(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.duration,t=void 0===a?sn.VO:a,r=(0,Ye.Z)("use-vault-apy-locked-kingdom",(0,te.Z)((0,ae.Z)().mark((function e(){var n,a,t,r,d,c,s,o,l,u;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{address:(0,xe.aw)(),name:"totalShares"},{address:(0,xe.aw)(),name:"getPricePerFullShare"},{address:(0,xe.aw)(),name:"performanceFee"}],e.next=3,(0,on.Z)(cn,n);case 3:return a=e.sent,t=(0,i.Z)(a,3),r=(0,i.Z)(t[0],1),d=r[0],c=(0,i.Z)(t[1],1),s=c[0],o=(0,i.Z)(t[2],1),l=o[0],u=en.O$.from(l.toNumber()).div(en.O$.from("100")).toNumber(),e.abrupt("return",{totalShares:d,pricePerFullShare:s,fees:{performanceFeeAsDecimal:u}});case 13:case"end":return e.stop()}}),e)})))),c=r.data,s=(null===c||void 0===c?void 0:c.totalShares)||Ie.H,o=(null===c||void 0===c?void 0:c.pricePerFullShare)||Ie.H,l=(null===c||void 0===c||null===(e=c.fees)||void 0===e?void 0:e.performanceFeeAsDecimal)||2,u=(0,d.useMemo)((function(){return nn.xs.from(s.toString())}),[s]),f=(0,d.useMemo)((function(){return nn.xs.from(o.toString())}),[o]),x=(0,Ye.Z)("masterChef-total-cake-pool-emission",(0,te.Z)((0,ae.Z)().mark((function e(){var n,a,t,r,d,c,s,o,l;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{address:ln,name:"cubPerBlock"},{address:ln,name:"poolInfo",params:[0]},{address:ln,name:"totalAllocPoint"}],e.next=3,(0,on.Z)(dn,n);case 3:return a=e.sent,t=(0,i.Z)(a,3),r=(0,i.Z)(t[0],1),d=r[0],c=t[1],s=(0,i.Z)(t[2],1),o=s[0],l=nn.xs.from(c.allocPoint).divUnsafe(nn.xs.from(o)),e.abrupt("return",nn.xs.from(d).mulUnsafe(nn.xs.from(S.gk)).mulUnsafe(l));case 12:case"end":return e.stop()}}),e)})))),b=x.data,m=(0,d.useMemo)((function(){return b&&!f.isZero()&&!u.isZero()&&fn(b,f,u).toString()}),[f,b,u]),h=(0,d.useMemo)((function(){return xn(sn.xt,t,sn.A0)}),[t]),p=(0,d.useMemo)((function(){return m&&bn(m,h).toString()}),[h,m]),v=(0,d.useCallback)((function(e){return xn(sn.xt,e,sn.A0)}),[]),j=(0,d.useMemo)((function(){if(m&&l){var e=rn()(1-l/100);return nn.xs.from(m).mulUnsafe(nn.xs.from(e)).toString()}return m}),[m,l]);return{flexibleApy:j,lockedApy:p,getLockedApy:(0,d.useCallback)((function(e){return m&&bn(m,v(e)).toString()}),[m,v]),boostFactor:(0,d.useMemo)((function(){return h.addUnsafe(nn.xs.from("1"))}),[h]),getBoostFactor:(0,d.useCallback)((function(e){return v(e).addUnsafe(nn.xs.from("1"))}),[v])}}var hn,pn,vn,jn,gn,kn,wn,yn,Zn,Cn,Pn,Sn,Bn,Tn,Dn,Nn,An,Un,Fn,Ln,zn,Mn,On,In=a(17398),En=function(e){var n=e.max,a=e.onConfirm,t=e.onDismiss,r=e.tokenName,c=void 0===r?"":r,s=e.addLiquidityUrl,o=e.isTokenOnly,u=e.isKingdomToken,x=e.isAddAdditional,b=e.currentEndTime,m=e.currentStartTime,h=(0,d.useState)(""),p=(0,i.Z)(h,2),v=p[0],j=p[1],g=(0,d.useState)(Math.floor((b-m)/604800)||1),k=(0,i.Z)(g,2),w=k[0],y=k[1],Z=(0,d.useState)(!1),C=(0,i.Z)(Z,2),S=C[0],B=C[1],T=(0,d.useState)(!1),D=(0,i.Z)(T,2),N=D[0],U=D[1],F=(0,qe.Z)(),L=mn(),z=L.lockedApy,M=L.getLockedApy,O=(0,d.useMemo)((function(){return(0,P.NJ)(n)}),[n]),I=new(l())(v),E=new(l())(O),W=(0,d.useCallback)((function(e){e.currentTarget.validity.valid&&j(e.currentTarget.value.replace(/,/g,"."))}),[j]),K=0;x&&(K=Math.floor((b-m)/604800));var R=(0,d.useCallback)((function(){j(O)}),[O,j]),q=(0,d.useMemo)((function(){return Math.max(x&&!N?b-m:604800*w,0)}),[m,b,w,N,x]),Q=(0,d.useMemo)((function(){return Math.max(x&&!N?0:604800*w,0)}),[w,N,x]),V=x&&!N?K:w,Y=x&&!N?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date(1e3*e);return n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(b):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date;return n.setDate(n.getDate()+7*e),n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(V),H=(0,d.useMemo)((function(){return new(l())(v).times(new(l())(M(q)).div(100)).toFixed(3)}),[v,M,q]);return(0,A.jsxs)(f.u_,{title:F(1068,o||u?"Stake tokens":"Stake LP tokens"),onDismiss:t,children:[(0,A.jsx)($e.Z,{value:v,onSelectMax:R,onChange:W,max:O,symbol:c,addLiquidityUrl:s,inputTitle:F(1070,"Stake")}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),x?null:(0,A.jsx)($e.Z,{max:"52",symbol:"Weeks",onChange:function(e){return e.currentTarget.validity.valid&&y(Number(e.currentTarget.value))},onSelectMax:function(){return y(52)},value:w.toString(),inputTitle:"Stake for",showMaxInstead:!0}),x?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(In.ZP,{style:{marginBottom:"10px",flexShrink:"1",display:"block",width:"auto"},variant:"warning",actionInline:!0,children:(0,A.jsx)(f.xv,{style:{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word",maxWidth:"450px"},children:"Adding more CUB will renew your lock, setting it to remaining duration. Due to shorter lock period, benefits decrease. To keep similar benefits, extend your lock."})}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsx)(f.XZ,{checked:N,onChange:function(){return U(!N)}},"extend"),(0,A.jsx)(f.xv,{fontSize:"1.1em",style:{textAlign:"left",flexGrow:"1",marginLeft:"10px"},children:"Renew and extend your lock to keep similar benefits."})]})]}):null,(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"APY:"})," ",z?M(q):"0.00","%"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"You will earn:"})," ",H&&!Number.isNaN(Number(H))?H:"0.000"," CUB"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"Duration:"})," ",V," Week",1===V?"":"s"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"Unlocks at:"})," ",Y]}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(f.xv,{color:"failure",children:[(0,A.jsx)("span",{role:"img","aria-label":"warning",children:"\u26a0\ufe0f"}),"\xa0Locked funds cannot be withdrawn until the end of the lock period."]}),(0,A.jsxs)(Ge.Z,{children:[(0,A.jsx)(f.zx,{variant:"secondary",onClick:t,width:"100%",disabled:S,children:F(462,"Cancel")}),(0,A.jsx)(f.zx,{width:"100%",disabled:S||!I.isFinite()||I.eq(0)||I.gt(E),onClick:(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,a(v,Q);case 3:B(!1),t();case 5:case"end":return e.stop()}}),e)}))),children:S?F(488,"Pending Confirmation"):F(464,"Confirm")})]}),(0,A.jsxs)(f.NR,{href:s,style:{alignSelf:"center"},children:[F(999,"Get")," ",c]})]})},Wn=function(e,n,a,t,i,r){var d=e&&(null===n||void 0===n?void 0:n.gt(0))&&(null===a||void 0===a?void 0:a.gt(0)),c=Kn(a,t).cakeAsBigNumber.minus(r||Ie.H).minus(n),s=c.gte(0)?qn(c,18):0,o=c.times(i);return{hasAutoEarnings:d,autoCakeToDisplay:s,autoUsdToDisplay:o.gte(0)?qn(o,18):0}},Kn=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4?arguments[4]:void 0,r=qn(n,a),d=new o.BigNumber(e.multipliedBy(r)).minus(i||Ie.H),c=qn(d,a),s=Qn(new o.BigNumber(c),a),l=Vn(d,a,t);return{cakeAsNumberBalance:c,cakeAsBigNumber:s,cakeAsDisplayBalance:l}},Rn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new o.BigNumber(e).dividedBy(Yn(n))},qn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return Rn(e,n).toNumber()},Qn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return new o.BigNumber(e).times(Yn(n))},Vn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=arguments.length>2?arguments[2]:void 0;return Rn(e,n).toFixed(a)},Yn=(0,j.memoize)((function(e){return Ie.x.pow(e)})),Hn=function(){var e=(0,te.Z)((0,ae.Z)().mark((function e(n){var a,t,r,d,c,s,o,u,f,x,b;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,fe.PN)(),e.next=3,Promise.all([a.methods.totalShares().call(),a.methods.totalLockedAmount().call(),a.methods.getPricePerFullShare().call(),a.methods.calculatePerformanceFee(n).call(),a.methods.withdrawFee().call(),a.methods.withdrawFeePeriod().call(),a.methods.userInfo(n).call(),a.methods.calculateOverdueFee(n).call()]);case 3:return t=e.sent,r=(0,i.Z)(t,8),d=r[0],c=r[1],s=r[2],o=r[3],u=r[4],f=r[5],x=r[6],b=r[7],e.abrupt("return",{totalShares:new(l())(d),totalLockedAmount:new(l())(c).div(Ie.x.pow(S.o3)),pricePerFullShare:new(l())(s).div(Ie.x.pow(S.o3)),fees:{performanceFee:new(l())(o),withdrawalFee:new(l())(u),withdrawalFeePeriod:new(l())(f)},userData:{shares:new(l())(x.shares),lastDepositedTime:new(l())(x.lastDepositedTime),tokenAtLastUserAction:new(l())(x.tokenAtLastUserAction).div(Ie.x.pow(S.o3)),lastUserActionTime:new(l())(x.lastUserActionTime),lockStartTime:new(l())(x.lockStartTime),lockEndTime:new(l())(x.lockEndTime),userBoostedShare:new(l())(x.userBoostedShare),locked:x.locked,lockedAmount:new(l())(x.lockedAmount).div(Ie.x.pow(S.o3)),overdueFee:new(l())(b).div(Ie.x.pow(S.o3))}});case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Xn=a(50324),Gn=function(e){var n=e.secondsRemaining,a=(0,Xn.Z)(n),t=a.days,i=a.hours,r=a.minutes;return(0,A.jsx)(f.xv,{bold:!0,fontSize:"14px",children:"".concat(t,"d:").concat(i,"h:").concat(r,"m")})},$n=a(30610),_n=a(56321),Jn=function(e){var n,a=e.lockEndTime;(0,d.useEffect)((function(){return l(),function(){clearInterval(n)}}));var t=(0,d.useState)(0),r=(0,i.Z)(t,2),c=r[0],s=r[1],o=(0,d.useMemo)((function(){return(0,$n.Z)(1e3*parseInt(a),sn.by)}),[a]),l=(0,d.useCallback)((function(){s((0,_n.Z)(o,new Date))}),[o]);n=setInterval(l,6e4);var u=(0,Xn.Z)(c),f=u.days,x=u.hours,b=u.minutes;return(0,A.jsx)(A.Fragment,{children:"".concat(f,"d: ").concat(x,"h: ").concat(b,"m")})},ea=(0,d.memo)(Jn),na=function(e){var n=e.amount,a=e.onConfirm,t=e.onDismiss,r=e.tokenName,c=void 0===r?"":r,s=e.addLiquidityUrl,o=e.title,u=(0,d.useState)(1),x=(0,i.Z)(u,2),b=x[0],m=x[1],h=(0,d.useState)(!1),p=(0,i.Z)(h,2),v=p[0],j=p[1],g=(0,qe.Z)(),k=mn(),w=k.lockedApy,y=k.getLockedApy,Z="";"Convert to Lock"!==o&&"Renew"!==o||(Z="You will be able to withdraw the staked CUB and profit only when the staking position is unlocked.");var C=604800*b,P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=new Date;return n.setDate(n.getDate()+7*e),n.toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(b),S=(0,d.useMemo)((function(){return new(l())(n).times(new(l())(y(C)).div(100)).toFixed(3)}),[n,y,C]);return(0,A.jsxs)(f.u_,{title:o,onDismiss:t,children:[(0,A.jsxs)(f.xv,{children:["Amount: ",n," CUB"]}),(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsx)($e.Z,{max:"52",symbol:"Weeks",onChange:function(e){return e.currentTarget.validity.valid&&m(Number(e.currentTarget.value))},onSelectMax:function(){return m(52)},value:b.toString(),inputTitle:"Stake for",showMaxInstead:!0}),""!==Z?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(In.ZP,{style:{marginBottom:"10px",flexShrink:"1",display:"block",width:"auto"},variant:"warning",actionInline:!0,children:(0,A.jsx)(f.xv,{style:{wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word",maxWidth:"450px"},children:Z})})}):null,(0,A.jsx)("div",{style:{marginBottom:"20px"}}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"APY:"})," ",w?y(C):"0.00","%"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"You will earn:"})," ",S&&!Number.isNaN(Number(S))?S:"0.000"," CUB"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"Duration:"})," ",b," Week",1===b?"":"s"]}),(0,A.jsxs)(f.xv,{children:[(0,A.jsx)("strong",{children:"Unlocks at:"})," ",P]}),(0,A.jsxs)(Ge.Z,{children:[(0,A.jsx)(f.zx,{variant:"secondary",onClick:t,width:"100%",disabled:v,children:g(462,"Cancel")}),(0,A.jsx)(f.zx,{width:"100%",disabled:v,onClick:(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,a("0",C);case 3:j(!1),t();case 5:case"end":return e.stop()}}),e)}))),children:v?g(488,"Pending Confirmation"):g(464,"Confirm")})]}),(0,A.jsxs)(f.NR,{href:s,style:{alignSelf:"center"},children:[g(999,"Get")," ",c]})]})},aa=a(66285),ta=x.ZP.div(hn||(hn=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n"]))),ia=(0,x.ZP)(f.zx)(pn||(pn=(0,r.Z)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),ra=(x.ZP.div(vn||(vn=(0,r.Z)(["\n  display: flex;\n"]))),x.ZP.span(jn||(jn=(0,r.Z)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),function(e){var n,a,t,r,o,u,x,b,h,p,v,j,g,k,y,Z,C,P,S,B=e.farm,T=(e.walletBalance,e.depositBalance,e.rewardBalance,e.walletBalanceQuoteValue,e.depositBalanceQuoteValue,e.addLiquidityUrl),D=e.account,U=e.cakePrice,F=(e.bnbDividends,(0,c.TH)()),L=((0,m.Pu)("BNB-BUSD LP"),(0,d.useState)(!1)),z=(0,i.Z)(L,2),M=z[0],O=z[1],I=(0,d.useState)(!1),E=(0,i.Z)(I,2),W=(E[0],E[1],(0,d.useState)(0)),K=(0,i.Z)(W,2),R=K[0],q=K[1],Q=(0,d.useState)(!1),V=(0,i.Z)(Q,2),Y=(V[0],V[1],B.pid,B.isTokenOnly),H=(B.isKingdom,B.isKingdomToken),X=B.lpSymbol,G=B.lpAddresses,$=B.token.address,_=(0,be.Z)(),J=function(e){return(0,Ye.Z)("chain-balance-locked-cub-better",(function(){return Hn(e)}))}(D),ee=J.data,ne=X.toUpperCase(),ie=(B.userData||{}).tokenBalance,de=void 0===ie?0:ie,oe=new(l())(de),ue=(0,d.useCallback)((function(e){return(0,fe.jS)((0,xe.Kn)($),_).methods.allowance(e,(0,xe.aw)()).call()}),[_,$]);(0,d.useEffect)((function(){(0,te.Z)((0,ae.Z)().mark((function e(){var n;return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=7;break}return e.next=3,ue(D);case 3:n=e.sent,q(n),e.next=8;break;case 7:q(0);case 8:case"end":return e.stop()}}),e)})))()}),[D,ue]);var me=0;R&&(me=new(l())(R).toNumber());var he=new(l())(me),pe=(null===ee||void 0===ee||null===(n=ee.userData)||void 0===n?void 0:n.tokenAtLastUserAction)||0,ve=new(l())(pe),je=ve.multipliedBy(U),ge=(null===ee||void 0===ee||null===(a=ee.userData)||void 0===a?void 0:a.shares.gt(0))||!1,ke=(null===ee||void 0===ee||null===(t=ee.userData)||void 0===t?void 0:t.lockEndTime.lte((new Date).getTime()/1e3))&&0!==(null===ee||void 0===ee||null===(r=ee.userData)||void 0===r?void 0:r.lockEndTime.toNumber())||!1,we=(null===ee||void 0===ee||null===(o=ee.userData)||void 0===o?void 0:o.lockEndTime.gt(0))||!1,ye=(0,Ye.Z)("chain-balance-locked-cub",(0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{earnings:ee?Wn(D,ee.userData.tokenAtLastUserAction,ee.userData.shares,ee.pricePerFullShare,U.toNumber(),ee.fees.performanceFee):null,user:null===ee||void 0===ee?void 0:ee.userData});case 1:case"end":return e.stop()}}),e)})))).data,Ze=(0,s.T)(),Ce=(null===ye||void 0===ye||null===(u=ye.earnings)||void 0===u?void 0:u.autoCakeToDisplay)||0,Pe=(null===ye||void 0===ye||null===(x=ye.earnings)||void 0===x?void 0:x.autoUsdToDisplay)||0,Se=(0,ce.m9)().onStakeLocked,Be=function(e){return Se(e,0)},Te=(0,se.q1)((null===ee||void 0===ee||null===(b=ee.userData)||void 0===b?void 0:b.shares.toString())||"0").onUnstake,De=mn({duration:31536e3}).lockedApy,Ne=D&&he&&he.isGreaterThan(0),Ae=(0,f.dd)((0,A.jsx)(En,{isAddAdditional:!0,currentStartTime:(null===ee||void 0===ee||null===(h=ee.userData)||void 0===h||null===(p=h.lockStartTime)||void 0===p?void 0:p.toNumber())||0,currentEndTime:(null===ee||void 0===ee||null===(v=ee.userData)||void 0===v||null===(j=v.lockEndTime)||void 0===j?void 0:j.toNumber())||0,max:oe,onConfirm:Se,tokenName:ne,addLiquidityUrl:T,isTokenOnly:Y,isKingdomToken:H})),Ue=(0,i.Z)(Ae,1)[0],Fe=function(){var e=(0,fe.PN)(_);(0,aa.Ge)(e,D).then((function(e){Ze((0,w.IV)(D)),console.info(e)}))},Le=(0,f.dd)((0,A.jsx)(na,{amount:Ce.toString(),onConfirm:Se,tokenName:"CUB",addLiquidityUrl:T,title:"Convert to Lock"})),ze=(0,i.Z)(Le,1)[0],Me=(0,f.dd)((0,A.jsx)(na,{amount:Ce.toString(),onConfirm:Se,tokenName:"CUB",addLiquidityUrl:T,title:"Extend"})),Oe=(0,i.Z)(Me,1)[0],Ie=(0,f.dd)((0,A.jsx)(na,{amount:Ce.toString(),onConfirm:Se,tokenName:"CUB",addLiquidityUrl:T,title:"Renew"})),Ee=(0,i.Z)(Ie,1)[0],We=(0,f.dd)((0,A.jsx)(re.Z,{max:oe,onConfirm:Be,tokenName:ne,addLiquidityUrl:T,isTokenOnly:Y,isKingdomToken:H,onConvertToLocked:ze,showConvertToLocked:!0,maxLockedApy:De})),Ke=(0,i.Z)(We,1)[0],Re=(0,f.dd)((0,A.jsx)(re.Z,{max:oe,onConfirm:Be,tokenName:ne,addLiquidityUrl:T,isTokenOnly:Y,isKingdomToken:H})),qe=(0,i.Z)(Re,1)[0],Qe=(0,f.dd)((0,A.jsx)(En,{max:oe,onConfirm:Se,tokenName:ne,addLiquidityUrl:T,isTokenOnly:Y,isKingdomToken:H})),Ve=(0,i.Z)(Qe,1)[0],Ge=(0,f.dd)((0,A.jsx)(_e,{shares:null===ee||void 0===ee||null===(g=ee.userData)||void 0===g?void 0:g.shares,performanceFee:null===ee||void 0===ee||null===(k=ee.fees)||void 0===k?void 0:k.performanceFee,hasWithdrawFee:null===ee||void 0===ee||null===(y=ee.userData)||void 0===y?void 0:y.lastDepositedTime.lte(Math.floor(Date.now()/1e3)+259200),pricePerFullShare:null===ee||void 0===ee?void 0:ee.pricePerFullShare,onConfirm:Te,tokenName:ne,isTokenOnly:Y,isKingdomToken:H})),$e=(0,i.Z)(Ge,1)[0];var en=function(){var e,n=new Date(((null===ee||void 0===ee||null===(e=ee.userData)||void 0===e?void 0:e.lockEndTime.multipliedBy(1e3).toNumber())||0)+6048e5),a=n.getTime()<(new Date).getTime();return{time:n,isAfterBurning:a}}(),nn=(0,xe.Kn)(G),an=(0,xe.Kn)($),tn=(0,d.useMemo)((function(){return Y||H?(0,fe.jS)(an,_):(0,fe.jS)(nn,_)}),[nn,Y,_,an,H]),rn=(0,le.yA)(tn,!1,!0).onApprove,dn=(0,d.useCallback)((0,te.Z)((0,ae.Z)().mark((function e(){return(0,ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,rn();case 4:O(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[rn]),cn=(0,A.jsx)(ia,{mt:"8px",fullWidth:!0,disabled:M||F.pathname.includes("archived"),onClick:dn,children:"Approve Contract"}),sn=(0,N.$i)({start:0,end:Pe,duration:1,separator:",",decimals:3}).countUp,on=(0,N.$i)({start:0,end:Ce,duration:1,separator:",",decimals:3}).countUp,ln=(0,N.$i)({start:0,end:ve.toNumber(),duration:1,separator:",",decimals:3}).countUp,un=(0,N.$i)({start:0,end:je.toNumber(),duration:1,separator:",",decimals:3}).countUp;var fn=((null===ee||void 0===ee||null===(Z=ee.userData)||void 0===Z||null===(C=Z.lockEndTime)||void 0===C?void 0:C.toNumber())||0)-((null===ee||void 0===ee||null===(P=ee.userData)||void 0===P||null===(S=P.lockStartTime)||void 0===S?void 0:S.toNumber())||0),xn=mn({duration:fn}),bn=xn.boostFactor,hn=xn.getLockedApy,pn=Math.floor(fn/604800);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ta,{style:{flex:"40%"},children:(0,A.jsx)(Je.sX,{children:function(){if(ke||we)return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsx)(Je.O6,{style:{flex:"50%"},children:(0,A.jsxs)("div",{children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.Dx,{children:"RECENT CUB PROFIT"})}),(0,A.jsxs)(Je.X6,{children:[on,"CUB"]}),(0,A.jsxs)(Je.v7,{children:["~",sn,"USD"]})]})}),(0,A.jsx)(Je.O6,{style:{flex:"50%"},children:(0,A.jsxs)("div",{children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.Dx,{children:"YIELD BOOST"})}),(0,A.jsx)(Je.O6,{children:(0,A.jsxs)("div",{children:[(0,A.jsxs)(f.X6,{color:"text",size:"md",children:[bn.toString()||"0","x"]}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["Lock for ",pn," week",1!==pn?"s":""]})]})})]})})]})});var e=function(){var e;if(null!==ee&&void 0!==ee&&null!==(e=ee.userData)&&void 0!==e&&e.lastDepositedTime){var n,a,t=null===ee||void 0===ee||null===(n=ee.userData)||void 0===n?void 0:n.lastDepositedTime.plus((null===ee||void 0===ee||null===(a=ee.fees)||void 0===a?void 0:a.withdrawalFeePeriod)||0).minus(Math.floor((new Date).getTime()/1e3));return t.toNumber()>0?t.toNumber():0}return 0}();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.Dx,{children:"RECENT CUB PROFIT"})}),(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)("div",{style:{width:"50%",flex:"50% 0 0"},children:[(0,A.jsxs)(Je.X6,{children:[on,"CUB"]}),(0,A.jsxs)(Je.v7,{children:["~",sn,"USD"]})]}),(0,A.jsx)("div",{style:{width:"50%",flex:"50% 0 0"},children:0===e&&ge?(0,A.jsx)(f.xv,{children:"No unstaking fee"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(f.xv,{children:["0.1% unstaking fee ",ge?"before":"if withdrawn within 72h"]}),ge?(0,A.jsx)(Gn,{secondsRemaining:e}):null]})})]})]})}()})}),(0,A.jsx)(ta,{style:{flex:"40%"},children:(0,A.jsx)(Je.sX,{style:{maxHeight:"150px",marginBottom:"10px"},children:function(){var e,n,a,t,i,r,d,c,s,o,l,u,x,b,m,h;return Ne?ge?ke?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,A.jsxs)(Je.Ad,{children:[(0,A.jsx)(Je.Dx,{children:"CUB "}),(0,A.jsx)(Je.dr,{children:"LOCKED"})]}),(0,A.jsxs)(Je.O6,{style:{display:"block"},children:[(0,A.jsx)(f.X6,{color:"text",size:"md",children:ln}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["~",un," USD"]}),(0,A.jsx)(ia,{mt:"8px",fullWidth:!0,style:{width:"100%"},disabled:F.pathname.includes("archived"),onClick:Ue,children:"Add CUB"})]})]}),(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.dr,{style:{color:"lightgray"},children:"UNLOCKS IN"})}),(0,A.jsxs)(f.X6,{color:"text",size:"md",mb:"8px",children:[(0,He.Z)(new Date(1e3*((null===ee||void 0===ee||null===(e=ee.userData)||void 0===e||null===(n=e.lockEndTime)||void 0===n?void 0:n.toNumber())||0)),{addSuffix:!0})," ",(0,A.jsx)("abbr",{title:"After Burning starts at ".concat((0,Xe.Z)(new Date(1e3*((null===ee||void 0===ee||null===(a=ee.userData)||void 0===a||null===(t=a.lockEndTime)||void 0===t?void 0:t.toNumber())||0)+6048e5),"MMM dd yyyy, HH:mm"),". You need to renew your fix-term position, to initiate a new lock or convert your staking position to flexible before it starts. Otherwise all the rewards will be burned within the next 90 days."),children:"?"})]}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["On ",(0,Xe.Z)(new Date(1e3*((null===ee||void 0===ee||null===(i=ee.userData)||void 0===i||null===(r=i.lockEndTime)||void 0===r?void 0:r.toNumber())||0)),"MMM dd yyyy, HH:mm")]}),(0,A.jsx)(ia,{mt:"8px",fullWidth:!0,disabled:F.pathname.includes("archived"),onClick:Oe,children:"Extend"})]})]})}):we?(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-start"},children:[(0,A.jsxs)(Je.Ad,{children:[(0,A.jsx)(Je.Dx,{children:"CUB "}),(0,A.jsx)(Je.dr,{children:"LOCKED"})]}),(0,A.jsxs)(Je.O6,{style:{display:"block"},children:[(0,A.jsx)(f.X6,{color:"text",size:"md",children:ln}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["~",un," USD"]})]})]}),(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.dr,{style:{color:"lightgray"},children:"UNLOCKS IN"})}),(0,A.jsxs)(f.X6,{color:"warning",size:"md",children:["Unlocked\xa0",(0,A.jsx)("abbr",{title:"After Burning starts at ".concat((0,Xe.Z)(new Date(1e3*((null===ee||void 0===ee||null===(d=ee.userData)||void 0===d||null===(c=d.lockEndTime)||void 0===c?void 0:c.toNumber())||0)+6048e5),"MMM dd yyyy, HH:mm"),". You need to renew your fix-term position, to initiate a new lock or convert your staking position to flexible before it starts. Otherwise all the rewards will be burned within the next 90 days."),children:"?"})]}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["On ",(0,Xe.Z)(new Date(1e3*((null===ee||void 0===ee||null===(s=ee.userData)||void 0===s||null===(o=s.lockEndTime)||void 0===o?void 0:o.toNumber())||0)),"MMM dd yyyy, HH:mm")]})]}),en.isAfterBurning?(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.dr,{style:{color:"lightgray"},children:"AFTER BURNING"})}),(0,A.jsx)(f.xv,{color:"failure",bold:!0,children:(null===ee||void 0===ee||null===(l=ee.userData)||void 0===l||null===(u=l.overdueFee)||void 0===u?void 0:u.toNumber())>0?"".concat(null===ee||void 0===ee||null===(x=ee.userData)||void 0===x||null===(b=x.overdueFee)||void 0===b?void 0:b.toNumber().toFixed(2),"%"):"-"})]}):(0,A.jsxs)(Je.O6,{style:{flexDirection:"column",alignItems:"flex-end"},children:[(0,A.jsx)(Je.Ad,{children:(0,A.jsx)(Je.dr,{style:{color:"lightgray"},children:"AFTER BURNING IN"})}),(0,A.jsx)(f.X6,{color:"failure",size:"md",mb:"8px",children:(0,A.jsx)(ea,{lockEndTime:(null===ee||void 0===ee||null===(m=ee.userData)||void 0===m||null===(h=m.lockEndTime)||void 0===h?void 0:h.toString())||"0"})})]})]})}):(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsxs)(Je.O6,{style:{flexDirection:"row",flexWrap:"wrap",alignItems:"flex-start"},children:[(0,A.jsxs)(Je.Ad,{style:{flex:"100%"},children:[(0,A.jsx)(Je.Dx,{children:"CUB "}),(0,A.jsx)(Je.dr,{children:"STAKED"})]}),(0,A.jsx)(Je.O6,{style:{display:"flex"},children:(0,A.jsxs)("div",{style:{display:"block"},children:[(0,A.jsx)(f.X6,{color:"text",size:"md",children:ln}),(0,A.jsxs)(f.xv,{fontSize:"12px",color:"textSubtle",children:["~",un," USD"]})]})})]}),(0,A.jsxs)(Je.O6,{style:{alignSelf:"flex-end"},children:[(0,A.jsx)(ia,{mt:"8px",style:{backgroundColor:"transparent",border:"2px solid #F2F2F2"},disabled:F.pathname.includes("archived"),onClick:$e,children:"-"}),(0,A.jsx)(ia,{mt:"8px",style:{backgroundColor:"transparent",border:"2px solid #F2F2F2",marginLeft:"10px"},disabled:F.pathname.includes("archived"),onClick:Ke,children:"+"})]})]})}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(Je.Ad,{children:[(0,A.jsx)(Je.Dx,{children:"STAKE "}),(0,A.jsx)(Je.dr,{children:"CUB"})]}),(0,A.jsxs)(Je.O6,{style:{flexWrap:"wrap"},children:[(0,A.jsx)(ia,{mt:"8px",fullWidth:!0,onClick:qe,children:"Flexible"}),(0,A.jsx)("div",{style:{width:"10%"}}),(0,A.jsx)(ia,{mt:"8px",fullWidth:!0,onClick:Ve,children:"Locked"}),(0,A.jsx)("div",{style:{width:"100%",flex:"100% 0 0"},children:(0,A.jsx)(f.xv,{children:(0,A.jsx)("abbr",{title:"Flexible staking offers flexibility for staking/unstaking whenever you want. Locked staking offers higher APY as well as other benefits.",children:"What's the difference?"})})})]})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(Je.Ad,{children:[(0,A.jsx)(Je.Dx,{children:"ENABLE "}),(0,A.jsx)(Je.dr,{children:"POOL"})]}),(0,A.jsx)(Je.O6,{children:cn})]})}()})}),(0,A.jsx)("div",{className:"col"}),we?(0,A.jsx)(In.ZP,{variant:"warning",actionInline:!0,action:(0,A.jsxs)(f.kC,{flexGrow:1,style:{justifyContent:"flex-end"},children:[(0,A.jsx)(ia,{variant:"primary",onClick:Ee,disabled:F.pathname.includes("archived"),children:"Renew"}),(0,A.jsx)(ia,{variant:"secondary",style:{marginLeft:"10px"},onClick:Fe,disabled:F.pathname.includes("archived"),children:"Convert To Flexible"})]}),children:(0,A.jsx)(f.xv,{children:"Renew your staking position to continue earning CUB rewards."})}):ge?(0,A.jsx)(In.ZP,{variant:"warning",actionInline:!0,action:(0,A.jsx)(f.kC,{flexGrow:1,style:{justifyContent:"flex-end"},children:(0,A.jsx)(ia,{variant:"primary",onClick:ze,disabled:F.pathname.includes("archived"),children:"Convert to Lock"})}),children:(0,A.jsxs)(f.xv,{children:["Lock staking users are earning up to ",hn(31449600),"% APY."]})}):null]})}),da=x.ZP.div(gn||(gn=(0,r.Z)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"]))),ca=x.ZP.div(kn||(kn=(0,r.Z)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),sa=x.ZP.div(wn||(wn=(0,r.Z)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),oa=(0,x.ZP)(f.rU)(yn||(yn=(0,r.Z)(["\n  font-weight: 400;\n"]))),la=(x.ZP.div(Zn||(Zn=(0,r.Z)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),function(e){var n=e.farm,a=e.walletBalance,t=e.depositBalance,i=e.rewardBalance,r=e.walletBalanceQuoteValue,d=e.depositBalanceQuoteValue,c=(e.farmName,e.oneTokenQuoteValue),s=(e.removed,e.aprApy),o=e.account,l=e.cakePrice,u=e.bnbDividends,x=(c&&"NaN"!==c.toString()&&"~$".concat(c.times(S.o3).toFixed(2)),n.lpSymbol),b=n.multiplier,m=n.quoteToken,h=n.token,p=n.lpAddresses,v=n.isTokenOnly,j=n.isKingdomToken,g=n.kingdomContract,k=(n.altPid,x&&x.toUpperCase().replace("PANCAKE",""),(0,ne.Z)({quoteTokenAddress:m.address,tokenAddress:h.address})),w=p[56],y=h.address[56],Z=("https://bscscan.com/token/".concat(v||j?y:w),"https://bscscan.com/address/".concat(g)),C="https://pancakeswap.info/pair/".concat(v?y:w),P=S.LJ,B="".concat(S.nd,"/swap/").concat(h.address[56]),T="".concat(P,"/").concat(k);"Bakery"===n.farmType?(P=S.sl,T="".concat(P,"/").concat(k),C="https://info.bakeryswap.org/#/pair/".concat(v?y:w)):"Belt"===n.farmType&&(T=P=S.N9,B=P,C=P);var D=b;return s.newMultiplier&&(D="".concat(s.newMultiplier,"*")),(0,A.jsx)(sa,{children:(0,A.jsxs)(da,{className:"k-details",style:{flexWrap:"wrap"},children:[(0,A.jsxs)(ca,{style:{width:"20%"},children:[(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Multiplier:"}),(0,A.jsx)(f.xv,{children:D})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Performance Fee:"}),(0,A.jsx)(f.xv,{children:"0~2%"})]}),(0,A.jsx)(oa,{external:!0,href:C,children:"See Token Info"}),(0,A.jsx)(oa,{external:!0,href:Z,children:"See Contract"}),(0,A.jsx)(oa,{external:!0,href:B,children:"Buy ".concat(h.symbol)})]}),(0,A.jsx)(ra,{farm:n,walletBalance:a,depositBalance:t,rewardBalance:i,walletBalanceQuoteValue:r,depositBalanceQuoteValue:d,addLiquidityUrl:T,account:o,cakePrice:l,bnbDividends:u})]})})}),ua=x.ZP.div(Cn||(Cn=(0,r.Z)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),fa=x.ZP.div(Pn||(Pn=(0,r.Z)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),xa=x.ZP.div(Sn||(Sn=(0,r.Z)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),ba=x.ZP.div(Bn||(Bn=(0,r.Z)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),ma=(0,x.F4)(Tn||(Tn=(0,r.Z)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),ha=x.ZP.div(Dn||(Dn=(0,r.Z)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),ma),pa=(0,x.ZP)(f.Ee)(Nn||(Nn=(0,r.Z)(["\n  width: 64px;\n"]))),va=x.ZP.div(An||(An=(0,r.Z)(["\n  cursor: pointer;\n"]))),ja=function(e){var n=e.farm,a=e.removed,t=e.cakePrice,r=e.account,c=(e.bakePrice,e.beltPrice,e.cubDen,e.realCakePrice,e.bnbDividends),s=(0,d.useState)(!1),o=(0,i.Z)(s,2),u=o[0],x=o[1],b=(n.apr,n.lpTotalInQuoteToken),m=n.lpSymbol,h=n.lpTokenBalancePCS,p=void 0===h?0:h,v=n.lpTotalInQuoteTokenPCS,j=void 0===v?0:v,g=n.quoteToken.busdPrice,k=(n.altPid,n.farmType),w=n.token.busdPrice,y=(n.compounding,m.split(" ")[0].toLocaleLowerCase()),Z=mn({duration:31449600}),C=Z.lockedApy,B=Z.flexibleApy,T=n.userData,D=T.tokenBalance,N=T.stakedBalance,U=T.earnings,F=D?(0,P.mW)(new(l())(D)):0,L=N?(0,P.mW)(new(l())(N)):0,z=U?(0,P.mW)(new(l())(U)):0,M=new(l())(w),O=new(l())(0);O=n.isKingdomToken?"Belt"!==n.farmType?M.div(S.o3):new(l())(n.token.busdPrice).div(S.o3):j?new(l())(j).div(new(l())(p)).times(g).div(S.o3):new(l())(0);var I=D?new(l())(D).times(O).toNumber():0,E=N?new(l())(N).times(O).toNumber():0,W=b?"$".concat(Number(new(l())(b).times(g)).toLocaleString(void 0,{maximumFractionDigits:0})):"-";return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(fa,{}),(0,A.jsxs)(ba,{children:["CUB"===n.token.symbol&&(0,A.jsx)(ha,{}),(0,A.jsxs)(va,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return x(!u)},children:[(0,A.jsx)("div",{className:"col",children:(0,A.jsx)(pa,{src:"/images/farms/".concat(y,".png"),alt:m,width:64,height:64})}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.kC,{justifyContent:"flex-start",alignItems:"center",children:(0,A.jsx)(f.xv,{className:"token",children:m})}),(0,A.jsxs)(f.xv,{children:["Uses: ",k]}),(0,A.jsxs)(f.xv,{children:["TVL ",W]})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:F,decimals:F?2:1,unit:"",color:F?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Balance"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:L,decimals:L?2:1,unit:"",color:L?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Deposited"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(ee,{fontSize:"16px",value:z,decimals:z?2:1,unit:"",color:z?"warning":"text"}),(0,A.jsx)(f.xv,{children:"Rewards"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.xv,{color:"warning",children:"Up to"}),(0,A.jsx)(ee,{fontSize:"16px",value:Number.isNaN(Number(C))?0:Number(C),decimals:2,unit:"%",color:"warning"}),(0,A.jsx)(f.xv,{color:"warning",children:"APY"})]}),(0,A.jsxs)("div",{className:"col",children:[(0,A.jsx)(f.xv,{children:"Flexible"}),(0,A.jsx)(ee,{fontSize:"16px",value:Number.isNaN(Number(B))?0:Number(B),decimals:2,unit:"%"}),(0,A.jsx)(f.xv,{children:"APY"})]})]}),(0,A.jsxs)(xa,{expanded:u,children:[(0,A.jsx)(ua,{}),(0,A.jsx)(la,{farm:n,walletBalance:F,depositBalance:L,rewardBalance:z,walletBalanceQuoteValue:I,depositBalanceQuoteValue:E,farmName:k,oneTokenQuoteValue:O,removed:a,aprApy:Z,account:r,cakePrice:t,bnbDividends:c})]})]})]})},ga=x.ZP.div(Un||(Un=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ka=x.ZP.div(Fn||(Fn=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),f.xv),wa=x.ZP.div(Ln||(Ln=(0,r.Z)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),f.xv),ya=x.ZP.div(zn||(zn=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Za=x.ZP.div(Mn||(Mn=(0,r.Z)(["\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ca=x.ZP.div(On||(On=(0,r.Z)(["\n  max-width: 400px;\n"]))),Pa=function(){var e=(0,c.$B)().path,n=(0,m.pQ)(),a=(0,c.TH)().pathname,r=(0,m.E2)().data,o=(0,d.useState)(""),x=(0,i.Z)(o,2),P=x[0],S=x[1],B=(0,u.Ge)().account,T=(0,d.useState)("hot"),D=(0,i.Z)(T,2),N=D[0],U=D[1],F=(0,m.Iu)(),L=(0,m.Pu)("CAKE")||new(l())(0),z=(0,m.Pu)("BAKE-BNB LP"),M=(0,m.Pu)("BELT-BNB LP"),O=(0,m.f6)(12),I=(0,C.Z)()||{},E=(0,s.T)(),W=(0,h.Z)().fastRefresh;(0,d.useEffect)((function(){B&&E((0,p.IV)(B))}),[B,E,W]);var K=a.includes("archived"),R=a.includes("history"),q=!R&&!K,Q=(0,d.useState)(!q),V=(0,i.Z)(Q,2),Y=V[0],H=V[1];(0,d.useEffect)((function(){H(!q)}),[q]),(0,d.useEffect)((function(){E((0,w.I2)(K)),K&&(E((0,w.eG)()),B&&E((0,p.IV)(B)))}),[K,E,B]);var X=r.filter((function(e){return e.isKingdom&&!["0X","0.0X"].includes(e.multiplier)&&!(0,g.Z)(e.pid)})),G=r.filter((function(e){return e.isKingdom&&["0X","0.0X"].includes(e.multiplier)&&!(0,g.Z)(e.pid)})),$=r.filter((function(e){return(0,g.Z)(e.pid)})),_=X.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),J=G.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),ee=$.filter((function(e){return e.userData&&new(l())(e.userData.stakedBalance).isGreaterThan(0)})),ne=(0,d.useCallback)((function(e){var n=e.map((function(e){if(!e.lpTotalInQuoteToken)return e;var n=e.quoteToken.busdPrice,a=new(l())(e.lpTotalInQuoteToken).times(n),i=q?(0,v.yW)(e.poolWeight,F,a):0;return(0,t.Z)((0,t.Z)({},e),{},{apr:i,liquidity:a})}));if(P){var a=P.toLowerCase();n=n.filter((function(e){return e.lpSymbol.toLowerCase().includes(a)}))}return n}),[F,P,q]),ae=(0,d.useRef)(null),te=(0,d.useState)(20),ie=(0,i.Z)(te,2),re=ie[0],de=ie[1],ce=(0,d.useState)(!1),se=(0,i.Z)(ce,2),oe=se[0],le=se[1],ue=(0,d.useMemo)((function(){var e=[];return q&&(e=ne(Y?_:X)),R&&(e=ne(Y?J:G)),K&&(e=ne(Y?ee:$)),function(e){switch(N){case"apr":return(0,j.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return(0,j.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return(0,j.orderBy)(e,(function(e){return e.userData?e.userData.earnings:0}),"desc");case"liquidity":return(0,j.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,re)}),[N,X,ne,q,Y,_,re,R,J,G,K,ee,$]);(0,d.useEffect)((function(){oe||(new IntersectionObserver((function(e){(0,i.Z)(e,1)[0].isIntersecting&&de((function(e){return e+20}))}),{rootMargin:"0px",threshold:1}).observe(ae.current),le(!0))}),[ue,oe]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(k.Z,{children:[(0,A.jsxs)("div",{className:"k-header",children:[(0,A.jsx)(f.X6,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),(0,A.jsxs)(f.kC,{children:[(0,A.jsx)(f.xv,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),(0,A.jsx)(Oe,{fontSize:"24px",value:n.toNumber(),prefix:"$",decimals:2})]})]}),(0,A.jsx)(f.X6,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),(0,A.jsx)(f.X6,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),(0,A.jsx)(f.X6,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),(0,A.jsx)(f.X6,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),(0,A.jsxs)(Ca,{children:[(0,A.jsx)(f.X6,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),(0,A.jsx)(f.xv,{children:"3%"})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Management Fee:"}),(0,A.jsx)(f.xv,{children:"7%"})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"CUB Burn Rate:"}),(0,A.jsx)(f.xv,{children:"100% of Fees Buyback and Burn CUB"})]}),(0,A.jsxs)(f.kC,{justifyContent:"space-between",children:[(0,A.jsx)(f.xv,{children:"Withdrawal Fee:"}),(0,A.jsx)(f.xv,{children:"None"})]})]})]}),(0,A.jsxs)(b.Z,{className:"k-container",children:[(0,A.jsx)(Ke,{farms:ue,cakePrice:F,bakePrice:z,beltPrice:M,cubDen:O}),(0,A.jsxs)(ga,{children:[(0,A.jsxs)(Za,{children:[(0,A.jsxs)(ka,{children:[(0,A.jsx)(f.ZD,{checked:Y,onChange:function(){return H(!Y)},scale:"sm"}),(0,A.jsx)(f.xv,{children:"Staked only"})]}),(0,A.jsx)(Qe,{hasStakeInFinishedFarms:J.length>0,hasStakeInArchivedFarms:ee.length>0})]}),(0,A.jsxs)(ya,{children:[(0,A.jsxs)(wa,{children:[(0,A.jsx)(f.xv,{children:"SORT BY"}),(0,A.jsx)(y.Z,{options:[{label:"Default",value:"default"},{label:"APR",value:"apr"},{label:"Multiplier",value:"multiplier"},{label:"Earned",value:"earned"},{label:"Liquidity",value:"liquidity"}],onChange:function(e){U(e.value)}})]}),(0,A.jsxs)(wa,{style:{marginLeft:16},children:[(0,A.jsx)(f.xv,{children:"SEARCH"}),(0,A.jsx)(Z.Z,{onChange:function(e){S(e.target.value)}})]})]})]}),(0,A.jsx)("div",{id:"kingdoms",children:(0,A.jsxs)("div",{children:[(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(ja,{farm:e,cakePrice:F,account:B,removed:!1,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid):(0,A.jsx)(ze,{farm:e,cakePrice:F,account:B,removed:!1,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid)}))}),(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e,"/history"),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(ja,{farm:e,cakePrice:F,account:B,removed:!0,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid):(0,A.jsx)(ze,{farm:e,cakePrice:F,account:B,removed:!0,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid)}))}),(0,A.jsx)(c.AW,{exact:!0,path:"".concat(e,"/archived"),children:ue.map((function(e){return e.isKingdomLocked?(0,A.jsx)(ja,{farm:e,cakePrice:F,account:B,removed:!0,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid):(0,A.jsx)(ze,{farm:e,cakePrice:F,account:B,removed:!0,bakePrice:z,beltPrice:M,cubDen:O,realCakePrice:L,bnbDividends:I},e.pid)}))})]})}),(0,A.jsx)("div",{ref:ae})]})]})}}}]);