(this["webpackJsonpcubdefi-frontend"]=this["webpackJsonpcubdefi-frontend"]||[]).push([[7],{1057:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ve}));var c,a,i,s,r,l,o,d,j,b,x,u,O,p,h,m=n(6),f=n(47),g=n(0),k=n(36),v=n(30),w=n(54),y=n(4),C=n.n(y),M=n(62),B=n(3),N=n(218),T=n(878),S=n(75),A=n(134),P=n(113),z=n(802),K=n(11),U=n(227),V=n(38),L=n(879),Q=n(213),F=n(844),D=n(814),R=n(110),q=n(813),I=n(803),W=n(2),E=n.n(W),$=n(8),G=n(801),J=n(817),Y=n(818),H=n(808),X=n(816),_=n(798),Z=n(815),ee=n(58),te=n(788),ne=(n(898),n(13)),ce=B.e.div(c||(c=Object(f.a)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background})),ae=Object(B.e)(v.h)(a||(a=Object(f.a)(["\n  height: 40px;\n  margin-top: 0;\n  display: block;\n  &:last-child {\n    align-self: right;\n  }\n"]))),ie=B.e.div(i||(i=Object(f.a)(["\n  display: inline-flex\n"]))),se=B.e.span(s||(s=Object(f.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),re=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,s=e.depositBalanceQuoteValue,r=e.addLiquidityUrl,l=e.account,o=Object(k.f)(),d=Object(g.useState)(!1),j=Object(V.a)(d,2),b=j[0],x=j[1],u=Object(g.useState)(!1),O=Object(V.a)(u,2),p=O[0],h=O[1],m=t.pid,f=t.isTokenOnly,w=t.isKingdom,y=t.isKingdomToken,M=t.lpSymbol,B=t.lpAddresses,N=t.token.address,T=M.toUpperCase(),A=t.userData||{},P=A.allowance,z=void 0===P?0:P,U=A.tokenBalance,L=void 0===U?0:U,Q=A.stakedBalance,F=void 0===Q?0:Q,R=new C.a(z),q=new C.a(L),I=new C.a(F),W=Object(S.h)(),re=a?new C.a(a).multipliedBy(W).toNumber():0,le=Object(te.a)(),oe=Object(H.a)(m,w).onStake,de=Object(X.a)(m,w).onUnstake,je=Object(_.b)(m,w).onReward,be=l&&R&&R.isGreaterThan(0),xe=Object(v.U)(Object(ne.jsx)(J.a,{max:q,onConfirm:oe,tokenName:T,addLiquidityUrl:r,isTokenOnly:f,isKingdomToken:y})),ue=Object(V.a)(xe,1)[0],Oe=Object(v.U)(Object(ne.jsx)(Y.a,{max:I,onConfirm:de,tokenName:T,isTokenOnly:f,isKingdomToken:y})),pe=Object(V.a)(Oe,1)[0],he=Object(K.a)(B),me=Object(K.a)(N),fe=Object(g.useMemo)((function(){return f||y?Object(ee.a)(me,le):Object(ee.a)(he,le)}),[he,f,le,me,y]),ge=Object(Z.a)(fe,w).onApprove,ke=Object(g.useCallback)(Object($.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,ge();case 4:x(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[ge]),ve=Object(ne.jsx)(ae,{mt:"8px",disabled:b||o.pathname.includes("archived"),onClick:ke,children:"Approve Contract"});return Object(ne.jsx)(ce,{children:Object(ne.jsx)("div",{className:"k-card",children:Object(ne.jsxs)("div",{className:"flex-grid",children:[Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.s,{justifyContent:"space-between",children:Object(ne.jsx)(v.M,{children:"Balance (Wallet)"})}),Object(ne.jsxs)(ie,{children:[Object(ne.jsx)(D.a,{fontSize:"16px",value:n,decimals:n?3:2,unit:""}),"\xa0",Object(ne.jsx)(se,{children:"("}),Object(ne.jsx)(G.a,{value:i}),Object(ne.jsx)(se,{children:")"})]}),be?Object(ne.jsx)(ae,{mt:"8px",fullWidth:!0,onClick:ue,children:"Deposit"}):ve]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.s,{justifyContent:"space-between",children:Object(ne.jsx)(v.M,{children:"Deposit (Staked)"})}),Object(ne.jsxs)(ie,{children:[Object(ne.jsx)(D.a,{fontSize:"16px",value:c,decimals:c?3:2,unit:""}),"\xa0",Object(ne.jsx)(se,{children:"("}),Object(ne.jsx)(G.a,{value:s}),Object(ne.jsx)(se,{children:")"})]}),be?Object(ne.jsx)(ae,{mt:"8px",fullWidth:!0,onClick:pe,children:"Withdraw"}):ve]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.M,{children:"CUB Rewards"}),Object(ne.jsxs)(ie,{children:[Object(ne.jsx)(D.a,{fontSize:"16px",value:a,decimals:a?3:2,unit:""}),"\xa0",Object(ne.jsx)(se,{children:"("}),Object(ne.jsx)(G.a,{value:re}),Object(ne.jsx)(se,{children:")"})]}),Object(ne.jsx)(ae,{disabled:0===a||p||!be,onClick:Object($.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,je();case 3:h(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]})]})})})},le=(Object(B.e)(v.h)(r||(r=Object(f.a)(["\n  height: 36px;\n  font-size: 1rem;\n  padding: 0 12px;\n"]))),B.e.div(l||(l=Object(f.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"])))),oe=B.e.div(o||(o=Object(f.a)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),de=B.e.div(d||(d=Object(f.a)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),je=Object(B.e)(v.y)(j||(j=Object(f.a)(["\n  font-weight: 400;\n"]))),be=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,s=e.depositBalanceQuoteValue,r=e.farmName,l=e.oneTokenQuoteValue,o=e.removed,d=e.aprApy,j=e.account,b=l?"~$".concat(l.times(R.d).toFixed(2)):"-",x=t.lpSymbol,u=t.multiplier,O=t.quoteToken,p=t.token,h=t.isKingdom,m=t.lpAddresses,f=t.isTokenOnly,g=t.isKingdomToken,k=t.kingdomContract,w=x&&x.toUpperCase().replace("PANCAKE",""),y=Object(I.a)({quoteTokenAddress:O.address,tokenAddress:p.address}),C=h?R.f:R.a,M="".concat(C,"/").concat(y),B=m[56],N=p.address[56],T="https://bscscan.com/token/".concat(f||g?N:B),S="https://bscscan.com/token/".concat(k),A="https://pancakeswap.info/pair/".concat(f?N:B);return Object(ne.jsxs)(de,{children:[Object(ne.jsx)(re,{farm:t,walletBalance:n,depositBalance:c,rewardBalance:a,walletBalanceQuoteValue:i,depositBalanceQuoteValue:s,addLiquidityUrl:M,account:j}),Object(ne.jsxs)(le,{className:"k-details",children:[Object(ne.jsxs)(oe,{children:[Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsxs)(v.M,{children:[x,":"]}),Object(ne.jsxs)(v.M,{children:["(",b,")"]})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Multiplier:"}),Object(ne.jsx)(v.M,{children:u})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Type:"}),Object(ne.jsx)(v.M,{children:"Auto-compound"})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Farm:"}),Object(ne.jsx)(v.M,{children:r})]})]}),Object(ne.jsx)(oe,{children:Object(ne.jsx)(q.a,{aprApy:d,lpLabel:w,addLiquidityUrl:M,isDetails:!0})}),Object(ne.jsxs)(oe,{children:[Object(ne.jsx)(je,{external:!0,href:T,children:"Farm Contract"}),Object(ne.jsx)(je,{external:!0,href:S,children:"Kingdom Contract"}),!o&&Object(ne.jsx)(je,{external:!0,href:M,children:"Get ".concat(w)}),Object(ne.jsx)(je,{external:!0,href:A,children:"See Token Info"})]})]})]})},xe=B.e.div(b||(b=Object(f.a)(["\n  /background-color: ",";\n  opacity: 0.2;*/\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),ue=B.e.div(x||(x=Object(f.a)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Oe=B.e.div(u||(u=Object(f.a)(["\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  padding: 0.4rem 0.8rem;\n"])),(function(e){return e.theme.card.background})),pe=Object(B.e)(v.w)(O||(O=Object(f.a)(["\n  width: 64px;\n"]))),he=function(e){var t=e.farm,n=e.removed,c=e.cakePrice,a=(e.bnbPrice,e.ethereum,e.account),i=Object(g.useState)(!1),s=Object(V.a)(i,2),r=s[0],l=s[1],o=t.apr,d=t.lpTotalInQuoteToken,j=t.kingdomSupply,b=t.lpSymbol,x=t.pcsPid,u=t.multiplier,O=t.isKingdom,p=t.isKingdomToken,h=t.tokenPriceVsQuote,f=t.poolWeightPCS,k=t.pcsCompounding,w=t.lpTokenBalancePCSv2,y=void 0===w?0:w,M=t.lpTotalInQuoteTokenPCS,B=void 0===M?0:M,N=b.split(" ")[0].toLocaleLowerCase(),T=Object(F.a)(O,p,Number(h),f,k,o,y,B),S=T,A=S.dailyAPR,P=S.totalAPY,z=t.userData,K=z.tokenBalance,U=z.stakedBalance,R=z.earnings,q=K?Object(Q.a)(new C.a(K)):0,I=U?Object(Q.a)(new C.a(U)):0,W=R?Object(Q.a)(new C.a(R)):0,E=d&&j?new C.a(1).times(d).div(new C.a(j)):new C.a(0),$=K?new C.a(K).times(E).toNumber():0,G=U?new C.a(U).times(E).toNumber():0,J=d?"$".concat(Number(d).toLocaleString(void 0,{maximumFractionDigits:0})):"-",Y=o&&o.toLocaleString("en-US",{maximumFractionDigits:2}),H=x||0===x?"Pancake v2":"";return T=Object(m.a)(Object(m.a)({},T),{},{pcsCompounding:t.pcsCompounding,farmAPR:Y,apr:t.apr,cakePrice:c}),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(xe,{}),Object(ne.jsxs)(Oe,{children:[Object(ne.jsxs)("div",{className:"flex-grid k-grid",children:[Object(ne.jsx)("div",{className:"col",children:Object(ne.jsx)(pe,{src:"/images/farms/".concat(N,".png"),alt:b,width:64,height:64})}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.s,{justifyContent:"flex-start",alignItems:"center",children:Object(ne.jsx)(v.M,{className:"token",children:b})}),Object(ne.jsx)(v.M,{children:H}),Object(ne.jsxs)(v.M,{children:[" TVL ",J]})]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(D.a,{fontSize:"16px",value:P,decimals:2,unit:"%"}),Object(ne.jsx)(D.a,{fontSize:"16px",value:A,decimals:2,unit:"%"}),Object(ne.jsx)(v.M,{children:u})]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(D.a,{fontSize:"16px",value:q,decimals:q?2:1,unit:""}),Object(ne.jsx)(D.a,{fontSize:"16px",value:I,decimals:I?2:1,unit:""}),Object(ne.jsx)(D.a,{fontSize:"16px",value:W,decimals:W?2:1,unit:""})]}),Object(ne.jsx)("div",{className:"col",children:Object(ne.jsx)(L.a,{onClick:function(){return l(!r)},expanded:r,onlyArrow:!0})})]}),Object(ne.jsx)(ue,{expanded:r,children:Object(ne.jsx)(be,{farm:t,walletBalance:q,depositBalance:I,rewardBalance:W,walletBalanceQuoteValue:$,depositBalanceQuoteValue:G,farmName:H,oneTokenQuoteValue:E,removed:n,aprApy:T,account:a})})]})]})},me=n(800),fe=Object(B.e)(v.M)(p||(p=Object(f.a)(["\n  line-height: 1.5;\n\n"]))),ge=function(e){var t=e.value,n=e.decimals,c=e.prefix,a=e.fontSize,i=void 0===a?"16px":a,s=Object(me.useCountUp)({start:0,end:t,duration:1,separator:",",decimals:void 0!==n?n:t<0?4:t>1e5?0:3}),r=s.countUp,l=s.update,o=Object(g.useRef)(l);return Object(g.useEffect)((function(){o.current(t)}),[t,o]),Object(ne.jsxs)(fe,{fontSize:i,children:[c,r]})},ke=(n(899),B.e.div(h||(h=Object(f.a)(["\n  max-width: 400px;\n"])))),ve=function(){var e=Object(S.k)(),t=Object(k.f)().pathname,n=Object(S.b)(),c=n.data,a=(n.userDataLoaded,Object(S.h)()),i=Object(M.c)().account,s=Object(S.g)(),r=Object(w.b)(),l=Object(A.a)().fastRefresh;Object(g.useEffect)((function(){i&&r(Object(P.a)(i))}),[i,r,l]);var o=t.includes("archived"),d=!t.includes("history")&&!o,j=c.filter((function(e){return e.isKingdom&&"0X"!==e.multiplier&&!Object(U.a)(e.pid)})),b=Object(g.useCallback)((function(e){return e.map((function(e){if(!e.lpTotalInQuoteToken||!s)return e;var t=s[Object(K.a)(e.quoteToken.address).toLowerCase()],n=new C.a(e.lpTotalInQuoteToken).times(t),c=d?Object(z.a)(e.poolWeight,a,n):0;return Object(m.a)(Object(m.a)({},e),{},{apr:c,liquidity:n})}))}),[a,s,d]),x=Object(g.useMemo)((function(){var e=[];return d&&(e=b(j)),e}),[j,b,d]);return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(T.a,{children:[Object(ne.jsxs)("div",{className:"k-header",children:[Object(ne.jsx)(v.t,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),Object(ne.jsxs)(v.s,{children:[Object(ne.jsx)(v.M,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),Object(ne.jsx)(ge,{fontSize:"24px",value:e.toNumber(),prefix:"$",decimals:2})]})]}),Object(ne.jsx)(v.t,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),Object(ne.jsx)(v.t,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),Object(ne.jsxs)(v.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:["IMPORTANT: Must use ",Object(ne.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://exchange.pancakeswap.finance/#/pool",children:"Pancakeswap V2 Exchange"})," for V2 Kingdom LP tokens until we add a V2 exchange for Cub Finance"]}),Object(ne.jsx)(v.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),Object(ne.jsxs)(ke,{children:[Object(ne.jsx)(v.t,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Management Fee:"}),Object(ne.jsx)(v.M,{children:"0.9%"})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Withdrawal Fee:"}),Object(ne.jsx)(v.M,{children:"None"})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"Fee to CUB Staking Kingdom:"}),Object(ne.jsx)(v.M,{children:"1%"})]}),Object(ne.jsxs)(v.s,{justifyContent:"space-between",children:[Object(ne.jsx)(v.M,{children:"CUB Burn Rate:"}),Object(ne.jsx)(v.M,{children:"100% of Fees Buyback and Burn CUB"})]})]})]}),Object(ne.jsx)(N.a,{className:"k-container",children:Object(ne.jsxs)("div",{id:"kingdoms",children:[Object(ne.jsx)("div",{id:"content-header",className:"k-content",children:Object(ne.jsxs)("div",{className:"flex-grid k-grid",children:[Object(ne.jsx)("div",{className:"col"}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.M,{children:"Token"}),Object(ne.jsx)(v.M,{children:"Farm"}),Object(ne.jsx)(v.M,{children:"TVL"})]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.M,{children:"Total APY"}),Object(ne.jsx)(v.M,{children:"Daily APR"}),Object(ne.jsx)(v.M,{children:"Multiplier"})]}),Object(ne.jsxs)("div",{className:"col",children:[Object(ne.jsx)(v.M,{children:"Balance"}),Object(ne.jsx)(v.M,{children:"Deposit"}),Object(ne.jsx)(v.M,{children:"Rewards"})]}),Object(ne.jsx)("div",{className:"col"})]})}),x.map((function(e){return Object(ne.jsx)(he,{farm:e,cakePrice:a,account:i,removed:!1},e.pid)}))]})})]})}},898:function(e,t,n){},899:function(e,t,n){}}]);
//# sourceMappingURL=7.551c92e7.chunk.js.map