(this["webpackJsonpcubdefi-frontend"]=this["webpackJsonpcubdefi-frontend"]||[]).push([[9],{1084:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ct}));var c=n(5),a=n(31),i=n(48),r=n(0),s=n(38),o=n(56),l=n(4),d=n.n(l),j=n(63),b=n(32),u=n(3),O=n(240),x=n(79),p=n(142),m=n(121),h=n(865),f=n(92),g=n(11),v=n(249),w=n(952),k=n(124),y=n(910),P=n(911),S=n(879),B=n(234),C=n(78),A=function(e,t,n,c,a){var i,r=e.apr,s=e.isKingdom,o=e.poolWeightPCS,l=e.compounding,j=e.lpTokenBalancePCS,b=void 0===j?0:j,u=e.lpTotalInQuoteTokenPCS,O=void 0===u?0:u,x=e.quoteToken.busdPrice,p=e.altPid,m=e.farmType,f=e.beltAPR;if(12===p){var g=new d.a(a.lpTotalInQuoteToken).times(a.quoteToken.busdPrice);i=Object(h.a)(a.poolWeight,a.tokenPriceVsQuote,g);var v=new d.a(i).div(new d.a(365)).toNumber(),w=100*(Math.pow(i/100/l+1,l)-1),k=w,y=k&&k.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:v,farmAPY:w,totalAPY:k,totalAPYString:y,newMultiplier:a.multiplier}}if("CAKE"===e.lpSymbol)i=Object(h.b)(Number(e.token.busdPrice),Number(e.token.busdPrice),Object(B.b)(new d.a(b).times(C.j),18),parseFloat("10"));else{var P=new d.a(O).times(x),S=t;"Bakery"===m?S=n:"Belt"===m&&(S=c),i="Belt"===m?Number(f):Object(h.a)(new d.a(o),S,P,s,m)}var A=i?new d.a(i).div(new d.a(365)).toNumber():new d.a(0).toNumber(),T=100*(Math.pow(i/100/l+1,l)-1),N=r?r+T:T,D=N&&N.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:A,farmAPY:T,totalAPY:N,totalAPYString:D}},T=n(860),N=n.n(T),D=n(13),L=function(e){var t=e.value,n=e.fontSize,c=e.color,a=e.decimals,i=e.isDisabled,s=e.unit,o=e.bold,l=Object(r.useRef)(0);return Object(r.useEffect)((function(){l.current=t}),[t]),Object(D.jsxs)(b.O,{bold:o,color:i?"textDisabled":c,fontSize:n,children:[Object(D.jsx)(N.a,{start:l.current,end:t,decimals:a,duration:1,separator:","}),t&&s&&Object(D.jsx)("span",{children:s})]})};L.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var U,z,F,R,K,Q,q,I,E,Y,M,V,W,$,G,H,J,X,Z,_,ee,te,ne,ce,ae,ie,re,se=L,oe=n(866),le=n(2),de=n.n(le),je=n(6),be=n(861),ue=n(884),Oe=n(885),xe=n(873),pe=n(883),me=n(864),he=n(867),fe=n(880),ge=n(68),ve=n(852),we=(n(962),u.e.div(U||(U=Object(i.a)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background}))),ke=Object(u.e)(b.h)(z||(z=Object(i.a)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),ye=u.e.div(F||(F=Object(i.a)(["\n  display: flex;\n"]))),Pe=u.e.span(R||(R=Object(i.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),Se=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,i=e.rewardBalance,o=e.walletBalanceQuoteValue,l=e.depositBalanceQuoteValue,j=e.addLiquidityUrl,u=e.account,O=e.cakePrice,p=e.bnbDividends,m=Object(s.f)(),h=Object(x.a)("BNB-BUSD LP"),f=Object(r.useState)(!1),v=Object(a.a)(f,2),w=v[0],k=v[1],y=Object(r.useState)(!1),P=Object(a.a)(y,2),S=P[0],B=P[1],A=Object(r.useState)(!1),T=Object(a.a)(A,2),N=T[0],L=T[1],U=t.pid,z=t.isTokenOnly,F=t.isKingdom,R=t.isKingdomToken,K=t.lpSymbol,Q=t.lpAddresses,q=t.token.address,I=K.toUpperCase(),E=t.userData||{},Y=E.allowance,M=void 0===Y?0:Y,V=E.tokenBalance,W=void 0===V?0:V,$=E.stakedBalance,G=void 0===$?0:$,H=new d.a(M),J=new d.a(W),X=new d.a(G),Z=i?new d.a(i).multipliedBy(O).toNumber():0,_=Object(ve.a)(),ee=Object(xe.a)(U,F).onStake,te=Object(pe.a)(U,F).onUnstake,ne=Object(me.b)(U,F).onReward,ce=Object(fe.a)(p||{}).onClaim,ae=u&&H&&H.isGreaterThan(0),ie=Object(b.W)(Object(D.jsx)(ue.a,{max:J,onConfirm:ee,tokenName:I,addLiquidityUrl:j,isTokenOnly:z,isKingdomToken:R})),re=Object(a.a)(ie,1)[0],oe=Object(b.W)(Object(D.jsx)(Oe.a,{max:X,onConfirm:te,tokenName:I,isTokenOnly:z,isKingdomToken:R})),le=Object(a.a)(oe,1)[0],Se=Object(g.a)(Q),Be=Object(g.a)(q),Ce=Object(r.useMemo)((function(){return z||R?Object(ge.a)(Be,_):Object(ge.a)(Se,_)}),[Se,z,_,Be,R]),Ae=Object(he.a)(Ce,F).onApprove,Te=Object(r.useCallback)(Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,Ae();case 4:k(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Ae]),Ne=Object(D.jsx)(ke,{mt:"8px",disabled:w||m.pathname.includes("archived"),onClick:Te,children:"Approve Contract"}),De=p&&p.amount?new d.a(p.amount).div(C.j).toNumber():0,Le=De?new d.a(De).multipliedBy(h).toNumber():0,Ue=null;return Ue="CUB"===t.lpSymbol?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(b.O,{children:"BNB Dividends"}),Object(D.jsxs)(ye,{children:[Object(D.jsx)(se,{fontSize:"16px",value:De,decimals:De?3:2,unit:""}),"\xa0",Object(D.jsx)(Pe,{children:"("}),Object(D.jsx)(be.a,{value:Le}),Object(D.jsx)(Pe,{children:")"})]}),Object(D.jsx)(ke,{disabled:0===De||N||!ae,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,ce();case 3:L(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(b.O,{children:"CUB Rewards"}),Object(D.jsxs)(ye,{children:[Object(D.jsx)(se,{fontSize:"16px",value:i,decimals:i?3:2,unit:""}),"\xa0",Object(D.jsx)(Pe,{children:"("}),Object(D.jsx)(be.a,{value:Z}),Object(D.jsx)(Pe,{children:")"})]}),Object(D.jsx)(ke,{disabled:0===i||S||!ae,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,ne();case 3:B(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),Object(D.jsx)(we,{children:Object(D.jsx)("div",{className:"k-card",children:Object(D.jsxs)("div",{className:"flex-grid",children:[Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(b.t,{justifyContent:"space-between",children:Object(D.jsx)(b.O,{children:"Balance (Wallet)"})}),Object(D.jsxs)(ye,{children:[Object(D.jsx)(se,{fontSize:"16px",value:n,decimals:n?3:2,unit:""}),"\xa0",Object(D.jsx)(Pe,{children:"("}),Object(D.jsx)(be.a,{value:o}),Object(D.jsx)(Pe,{children:")"})]}),ae?Object(D.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:re,children:"Deposit"}):Ne]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(b.t,{justifyContent:"space-between",children:Object(D.jsx)(b.O,{children:"Deposit (Staked)"})}),Object(D.jsxs)(ye,{children:[Object(D.jsx)(se,{fontSize:"16px",value:c,decimals:c?3:2,unit:""}),"\xa0",Object(D.jsx)(Pe,{children:"("}),Object(D.jsx)(be.a,{value:l}),Object(D.jsx)(Pe,{children:")"})]}),ae?Object(D.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:le,children:"Withdraw"}):Ne]}),Object(D.jsx)("div",{className:"col",children:Ue})]})})})},Be=n(849),Ce=n(905),Ae=function(e){var t=e.aprApy,n=e.lpLabel,c=e.addLiquidityUrl,a=Object(Be.a)(),i=t.farmAPR,r=t.apr,s=t.compounding,o=t.pcsApr,l=t.dailyAPR,j=t.farmAPY,u=t.totalAPYString,O=t.cakePrice;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsxs)(b.O,{color:"warning",children:[a(354,"Total APY"),":"]}),Object(D.jsxs)(b.O,{bold:!0,color:"warning",children:[u,"%"]})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsxs)(b.O,{children:[a(354,"Farm APR"),":"]}),Object(D.jsx)(b.O,{children:"".concat(new d.a(o).toFixed(2),"% (").concat(new d.a(l).toFixed(3),"%)")})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsxs)(b.O,{children:[a(354,"Compounds / year"),":"]}),Object(D.jsxs)(b.O,{children:["~",s]})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsxs)(b.O,{children:[a(354,"Farm APY"),":"]}),Object(D.jsx)(se,{fontSize:"16px",value:j,decimals:2,unit:"%"})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",alignItems:"center",children:[Object(D.jsxs)(b.O,{children:[a(736,"CUB APR"),":"]}),Object(D.jsx)(b.O,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Ce.a,{lpLabel:n,addLiquidityUrl:c,cakePrice:O,apr:r}),i||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):Object(D.jsx)(b.L,{height:24,width:80})})]})]})},Te=(Object(u.e)(b.h)(K||(K=Object(i.a)(["\n  height: 36px;\n  font-size: 1rem;\n  padding: 0 12px;\n"]))),u.e.div(Q||(Q=Object(i.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"])))),Ne=u.e.div(q||(q=Object(i.a)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),De=u.e.div(I||(I=Object(i.a)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),Le=Object(u.e)(b.z)(E||(E=Object(i.a)(["\n  font-weight: 400;\n"]))),Ue=u.e.div(Y||(Y=Object(i.a)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),ze=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,r=e.depositBalanceQuoteValue,s=e.farmName,o=e.oneTokenQuoteValue,l=e.removed,d=e.aprApy,j=e.account,u=e.cakePrice,O=e.bnbDividends,x=o&&"NaN"!==o.toString()?"~$".concat(o.times(C.j).toFixed(2)):"-",p=t.lpSymbol,m=t.multiplier,h=t.quoteToken,f=t.token,g=t.lpAddresses,v=t.isTokenOnly,w=t.isKingdomToken,k=t.kingdomContract,y=t.altPid,P=p&&p.toUpperCase().replace("PANCAKE",""),S=Object(oe.a)({quoteTokenAddress:h.address,tokenAddress:f.address}),B=g[56],A=f.address[56],T="https://bscscan.com/token/".concat(v||w?A:B),N="https://bscscan.com/token/".concat(k),L="https://pancakeswap.info/pair/".concat(v?A:B),U=C.l,z="".concat(C.d,"/#/swap"),F="".concat(U,"/").concat(S);"Bakery"===t.farmType?(U=C.a,F="".concat(U,"/").concat(S),L="https://info.bakeryswap.org/#/pair/".concat(v?A:B)):"Belt"===t.farmType&&(F=U=C.e,z=U,L=U);var R=m;return d.newMultiplier&&(R="".concat(d.newMultiplier,"*")),Object(D.jsxs)(De,{children:[Object(D.jsx)(Se,{farm:t,walletBalance:n,depositBalance:c,rewardBalance:a,walletBalanceQuoteValue:i,depositBalanceQuoteValue:r,addLiquidityUrl:F,account:j,cakePrice:u,bnbDividends:O}),Object(D.jsxs)(Te,{className:"k-details",children:[Object(D.jsxs)(Ne,{children:[Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsxs)(b.O,{children:[p,":"]}),Object(D.jsxs)(b.O,{children:["(",x,")"]})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Multiplier:"}),Object(D.jsx)(b.O,{children:R})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Type:"}),Object(D.jsx)(b.O,{children:"Auto-compound"})]}),12===y?Object(D.jsx)(Ue,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Farm:"}),Object(D.jsx)(b.O,{children:s})]})]}),Object(D.jsx)(Ne,{children:Object(D.jsx)(Ae,{aprApy:d,lpLabel:P,addLiquidityUrl:F})}),Object(D.jsxs)(Ne,{children:[Object(D.jsx)(Le,{external:!0,href:T,children:"Farm Contract"}),Object(D.jsx)(Le,{external:!0,href:N,children:"Kingdom Contract"}),!l&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Le,{external:!0,href:z,children:"Buy ".concat(f.symbol)}),Object(D.jsx)(Le,{external:!0,href:F,children:"Add Liquidity"})]}),Object(D.jsx)(Le,{external:!0,href:L,children:"See Token Info"})]})]})]})},Fe=u.e.div(M||(M=Object(i.a)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Re=u.e.div(V||(V=Object(i.a)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),Ke=u.e.div(W||(W=Object(i.a)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Qe=u.e.div($||($=Object(i.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),qe=Object(u.f)(G||(G=Object(i.a)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),Ie=u.e.div(H||(H=Object(i.a)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),qe),Ee=Object(u.e)(b.x)(J||(J=Object(i.a)(["\n  width: 64px;\n"]))),Ye=u.e.div(X||(X=Object(i.a)(["\n  cursor: pointer;\n"]))),Me=function(e){var t=e.farm,n=e.removed,i=e.cakePrice,s=e.account,o=e.bakePrice,l=e.beltPrice,j=e.cubDen,u=e.realCakePrice,O=e.bnbDividends,x=Object(r.useState)(!1),p=Object(a.a)(x,2),m=p[0],h=p[1],f=t.apr,g=t.lpTotalInQuoteToken,v=t.lpSymbol,w=t.lpTokenBalancePCS,k=void 0===w?0:w,y=t.lpTotalInQuoteTokenPCS,P=void 0===y?0:y,S=t.quoteToken.busdPrice,T=t.altPid,N=t.farmType,L=t.token.busdPrice,U=v.split(" ")[0].toLocaleLowerCase(),z=A(t,u,o,l,j),F=z,R=F.dailyAPR,K=F.totalAPY,Q=F.pcsApr,q=t.userData,I=q.tokenBalance,E=q.stakedBalance,Y=q.earnings,M=I?Object(B.b)(new d.a(I)):0,V=E?Object(B.b)(new d.a(E)):0,W=Y?Object(B.b)(new d.a(Y)):0,$=new d.a(L),G=new d.a(0);G=t.isKingdomToken?"Belt"!==t.farmType?$.div(C.j):new d.a(t.token.busdPrice).div(C.j):P?new d.a(P).div(new d.a(k)).times(S).div(C.j):new d.a(0);var H=I?new d.a(I).times(G).toNumber():0,J=E?new d.a(E).times(G).toNumber():0,X=g?"$".concat(Number(new d.a(g).times(S)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",Z=f&&f.toLocaleString("en-US",{maximumFractionDigits:2});return z=Object(c.a)(Object(c.a)({},z),{},{compounding:t.compounding,farmAPR:Z,apr:12===T?Q:t.apr,cakePrice:i,quoteTokenPriceUsd:Number(S),lpTotalInQuoteToken:g}),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Re,{}),Object(D.jsxs)(Qe,{children:["CUB"===t.token.symbol&&Object(D.jsx)(Ie,{}),Object(D.jsxs)(Ye,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return h(!m)},children:[Object(D.jsx)("div",{className:"col",children:Object(D.jsx)(Ee,{src:"/images/farms/".concat(U,".png"),alt:v,width:64,height:64})}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(b.t,{justifyContent:"flex-start",alignItems:"center",children:Object(D.jsx)(b.O,{className:"token",children:v})}),Object(D.jsxs)(b.O,{children:["Uses: ",N]}),Object(D.jsxs)(b.O,{children:["TVL ",X]})]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(se,{fontSize:"16px",value:M,decimals:M?2:1,unit:"",color:M?"warning":"text"}),Object(D.jsx)(b.O,{children:"Balance"})]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(se,{fontSize:"16px",value:V,decimals:V?2:1,unit:"",color:V>1e-7?"warning":"text"}),Object(D.jsx)(b.O,{children:"Deposited"})]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(se,{fontSize:"16px",value:W,decimals:W?2:1,unit:"",color:W?"warning":"text"}),Object(D.jsx)(b.O,{children:"Rewards"})]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(se,{fontSize:"16px",value:"NaN"!==K.toString()?K:0,decimals:2,unit:"%",color:"warning"}),Object(D.jsx)(b.O,{color:"warning",children:"APY"})]}),Object(D.jsxs)("div",{className:"col",children:[Object(D.jsx)(se,{fontSize:"16px",value:R,decimals:2,unit:"%"}),Object(D.jsx)(b.O,{children:"Daily"})]})]}),Object(D.jsxs)(Ke,{expanded:m,children:[Object(D.jsx)(Fe,{}),Object(D.jsx)(ze,{farm:t,walletBalance:M,depositBalance:V,rewardBalance:W,walletBalanceQuoteValue:H,depositBalanceQuoteValue:J,farmName:N,oneTokenQuoteValue:G,removed:n,aprApy:z,account:s,cakePrice:i,bnbDividends:O})]})]})]})},Ve=Object(u.e)(b.O)(Z||(Z=Object(i.a)(["\n  line-height: 1.5;\n\n"]))),We=function(e){var t=e.value,n=e.decimals,c=e.prefix,a=e.fontSize,i=void 0===a?"16px":a,s=Object(T.useCountUp)({start:0,end:t,duration:1,separator:",",decimals:void 0!==n?n:t<0?4:t>1e5?0:3}),o=s.countUp,l=s.update,d=Object(r.useRef)(l);return Object(r.useEffect)((function(){d.current(t)}),[t,d]),Object(D.jsxs)(Ve,{fontSize:i,children:[c,o]})},$e=n(27),Ge=function(e,t,n,c,a){var i=$e.b,r=$e.b,s=0,o=0,l=0;e.forEach((function(e){if(e.isKingdom){var j=e.userData,b=e.lpTotalInQuoteTokenPCS,u=void 0===b?0:b,O=e.lpTokenBalancePCS,x=void 0===O?0:O,p=e.quoteToken.busdPrice,m=e.token.busdPrice,h=j.stakedBalance,f=j.earnings,g=A(e,t,n,c,a);if(h>"1"){var v=$e.b;v=e.isKingdomToken?"Belt"!==e.farmType?m:new d.a(e.token.busdPrice):u?new d.a(u).div(new d.a(x)).times(p):new d.a(0);var w=h?new d.a(h).times(v):new d.a(0);r=r.plus(new d.a(w)),s=+s+ +g.totalAPY,o=+o+ +g.dailyAPR,l+=1}"0"!==f&&(i=i.plus(new d.a(f)))}}));var j=r!==$e.b?Object(B.b)(r):0,b=i!==$e.b?Object(B.b)(i):0;return[j,b,b?new d.a(b).multipliedBy(t).toNumber():0,s,o,l]},He=u.e.div(_||(_=Object(i.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),Je=function(e){var t=e.farms,n=e.cakePrice,c=e.bakePrice,i=e.beltPrice,r=e.cubDen,s=Ge(t,n,c,i,r),o=Object(a.a)(s,6),l=o[0],d=o[1],j=o[2],u=o[3],O=o[4],x=o[5],p="NaN"!==u.toString()&&0!==u?u/x:0,m=O?O/x:0,h=l?"$".concat(l.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",f=m?"".concat(m.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",g=j?"$".concat(j.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return Object(D.jsx)(He,{children:Object(D.jsxs)(b.t,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(b.O,{children:"Total Deposit"}),Object(D.jsx)(b.O,{fontSize:"18px",color:"textSubtle",children:h}),Object(D.jsxs)(b.O,{children:[x," assets"]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(b.O,{children:"Average APY"}),Object(D.jsx)(se,{fontSize:"18px",value:p,decimals:p?2:1,unit:"%",color:"textSubtle"}),Object(D.jsxs)(b.O,{children:["Daily ",f]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)(b.O,{children:"CUB Rewards"}),Object(D.jsx)(se,{fontSize:"18px",value:d,decimals:d?2:1,unit:"",color:"textSubtle"}),Object(D.jsx)(b.O,{children:g})]})]})})},Xe=(n(963),u.e.div(ee||(ee=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}))),Ze=u.e.div(te||(te=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),b.O),_e=u.e.div(ne||(ne=Object(i.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),b.O),et=u.e.div(ce||(ce=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),tt=u.e.div(ae||(ae=Object(i.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),nt=(u.e.div(ie||(ie=Object(i.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]))),u.e.div(re||(re=Object(i.a)(["\n  max-width: 400px;\n"])))),ct=function(){var e=Object(x.l)(),t=Object(s.f)().pathname,n=Object(x.d)().data,i=Object(r.useState)(""),l=Object(a.a)(i,2),u=l[0],B=l[1],C=Object(j.c)().account,A=Object(r.useState)("hot"),T=Object(a.a)(A,2),N=T[0],L=T[1],U=Object(x.h)(),z=Object(x.i)(),F=Object(x.a)("CAKE")||new d.a(0),R=Object(x.a)("BAKE-BNB LP"),K=Object(x.a)("BELT-BNB LP"),Q=Object(x.b)(12),q=Object(S.a)()||{},I=Object(o.b)(),E=Object(p.a)().fastRefresh;Object(r.useEffect)((function(){C&&I(Object(m.a)(C))}),[C,I,E]);var Y=t.includes("archived"),M=!t.includes("history")&&!Y,V=Object(r.useState)(!M),W=Object(a.a)(V,2),$=W[0],G=W[1];Object(r.useEffect)((function(){G(!M)}),[M]),Object(r.useEffect)((function(){I(Object(k.d)(Y)),Y&&(I(Object(k.c)()),C&&I(Object(m.a)(C)))}),[Y,I,C]);var H=n.filter((function(e){return e.isKingdom&&!Object(v.a)(e.pid)})),J=H.filter((function(e){return e.userData&&new d.a(e.userData.stakedBalance).isGreaterThan(0)})),X=Object(r.useCallback)((function(e){var t=e.map((function(e){if(!e.lpTotalInQuoteToken||!U)return e;var t=U[Object(g.a)(e.quoteToken.address).toLowerCase()],n=new d.a(e.lpTotalInQuoteToken).times(t),a=M?Object(h.a)(e.poolWeight,z,n):0;return Object(c.a)(Object(c.a)({},e),{},{apr:a,liquidity:n})}));if(u){var n=u.toLowerCase();t=t.filter((function(e){return e.lpSymbol.toLowerCase().includes(n)}))}return t}),[z,U,u,M]),Z=Object(r.useRef)(null),_=Object(r.useState)(20),ee=Object(a.a)(_,2),te=ee[0],ne=ee[1],ce=Object(r.useState)(!1),ae=Object(a.a)(ce,2),ie=ae[0],re=ae[1],se=Object(r.useMemo)((function(){var e=[];return M&&(e=X($?J:H)),function(e){switch(N){case"apr":return Object(f.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return Object(f.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(f.orderBy)(e,(function(e){return e.userData?e.userData.earnings:0}),"desc");case"liquidity":return Object(f.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,te)}),[N,H,X,M,$,J,te]);Object(r.useEffect)((function(){ie||(new IntersectionObserver((function(e){Object(a.a)(e,1)[0].isIntersecting&&ne((function(e){return e+20}))}),{rootMargin:"0px",threshold:1}).observe(Z.current),re(!0))}),[se,ie]);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(w.a,{children:[Object(D.jsxs)("div",{className:"k-header",children:[Object(D.jsx)(b.u,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),Object(D.jsxs)(b.t,{children:[Object(D.jsx)(b.O,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),Object(D.jsx)(We,{fontSize:"24px",value:e.toNumber(),prefix:"$",decimals:2})]})]}),Object(D.jsx)(b.u,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),Object(D.jsx)(b.u,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),Object(D.jsx)(b.u,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),Object(D.jsx)(b.u,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),Object(D.jsxs)(nt,{children:[Object(D.jsx)(b.u,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),Object(D.jsx)(b.O,{children:"3%"})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Management Fee:"}),Object(D.jsx)(b.O,{children:"7%"})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"CUB Burn Rate:"}),Object(D.jsx)(b.O,{children:"100% of Fees Buyback and Burn CUB"})]}),Object(D.jsxs)(b.t,{justifyContent:"space-between",children:[Object(D.jsx)(b.O,{children:"Withdrawal Fee:"}),Object(D.jsx)(b.O,{children:"None"})]})]})]}),Object(D.jsxs)(O.a,{className:"k-container",children:[Object(D.jsx)(Je,{farms:se,cakePrice:z,bakePrice:R,beltPrice:K,cubDen:Q}),Object(D.jsxs)(Xe,{children:[Object(D.jsx)(tt,{children:Object(D.jsxs)(Ze,{children:[Object(D.jsx)(b.P,{checked:$,onChange:function(){return G(!$)},scale:"sm"}),Object(D.jsx)(b.O,{children:"Staked only"})]})}),Object(D.jsxs)(et,{children:[Object(D.jsxs)(_e,{children:[Object(D.jsx)(b.O,{children:"SORT BY"}),Object(D.jsx)(y.a,{options:[{label:"Default",value:"default"},{label:"APR",value:"apr"},{label:"Multiplier",value:"multiplier"},{label:"Earned",value:"earned"},{label:"Liquidity",value:"liquidity"}],onChange:function(e){L(e.value)}})]}),Object(D.jsxs)(_e,{style:{marginLeft:16},children:[Object(D.jsx)(b.O,{children:"SEARCH"}),Object(D.jsx)(P.a,{onChange:function(e){B(e.target.value)}})]})]})]}),Object(D.jsx)("div",{id:"kingdoms",children:se.map((function(e){return Object(D.jsx)(Me,{farm:e,cakePrice:z,account:C,removed:!1,bakePrice:R,beltPrice:K,cubDen:Q,realCakePrice:F,bnbDividends:q},e.pid)}))}),Object(D.jsx)("div",{ref:Z})]})]})}},879:function(e,t,n){"use strict";var c=n(2),a=n.n(c),i=n(6),r=n(31),s=n(0),o=n(63),l=n(186),d=n.n(l),j=n(142);t.a=function(){var e=Object(s.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(o.c)().account,b=Object(j.a)().fastRefresh;return Object(s.useEffect)((function(){l&&function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://bnb.fbslo.net/?address=".concat(l),{timeout:7e3}).then((function(e){return e.data})).catch((function(e){return console.log("error",e),{error:!0}}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,b]),n}},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(2),a=n.n(c),i=n(6),r=n(0),s=n(63),o=n(56),l=n(121),d=n(851),j=n(850),b=function(e){var t=Object(o.b)(),n=Object(s.c)().account,c=Object(j.a)(),b=e.user,u=void 0===b?"":b,O=e.amount,x=void 0===O?"":O,p=e.nonce,m=void 0===p?"":p,h=e.signature,f=void 0===h?"":h;return{onClaim:Object(r.useCallback)(Object(i.a)(a.a.mark((function e(){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(c,n,u,x,m,f);case 2:return i=e.sent,t(Object(l.a)(n)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),[t,n,u,x,m,f,c])}}},962:function(e,t,n){},963:function(e,t,n){}}]);
//# sourceMappingURL=9.0017bb24.chunk.js.map