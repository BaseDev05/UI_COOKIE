(this["webpackJsonpcubdefi-frontend"]=this["webpackJsonpcubdefi-frontend"]||[]).push([[7],{1061:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ct}));var c=n(23),a=n(5),i=n(35),r=n(47),s=n(0),l=n(39),o=n(54),d=n(4),j=n.n(d),b=n(62),u=n(31),x=n(3),O=n(222),p=n(75),m=n(133),h=n(112),f=n(807),g=n(88),v=n(11),w=n(231),k=n(883),y=n(115),P=n(848),S=n(849),B=n(216),C=n(76),M=function(e,t,n,c,a){var i,r=e.apr,s=e.isKingdom,l=e.poolWeightPCS,o=e.compounding,d=e.lpTokenBalancePCS,b=void 0===d?0:d,u=e.lpTotalInQuoteTokenPCS,x=void 0===u?0:u,O=e.quoteToken.busdPrice,p=e.altPid,m=e.farmType,h=e.beltAPR;if(12===p){var g=new j.a(a.lpTotalInQuoteToken).times(a.quoteToken.busdPrice);i=Object(f.a)(a.poolWeight,a.tokenPriceVsQuote,g);var v=new j.a(i).div(new j.a(365)).toNumber(),w=100*(Math.pow(i/100/o+1,o)-1),k=w,y=k&&k.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:v,farmAPY:w,totalAPY:k,totalAPYString:y,newMultiplier:a.multiplier}}if("CAKE"===e.lpSymbol)i=Object(f.b)(Number(e.token.busdPrice),Number(e.token.busdPrice),Object(B.b)(new j.a(b).times(C.i),18),parseFloat("10"));else{var P=new j.a(x).times(O),S=t;"Bakery"===m?S=n:"Belt"===m&&(S=c),i="Belt"===m?Number(h):Object(f.a)(new j.a(l),S,P,s,m)}var M=i?new j.a(i).div(new j.a(365)).toNumber():new j.a(0).toNumber(),A=100*(Math.pow(i/100/o+1,o)-1),T=r?r+A:A,N=T&&T.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:M,farmAPY:A,totalAPY:T,totalAPYString:N}},A=n(806),T=n.n(A),N=n(13),D=function(e){var t=e.value,n=e.fontSize,c=e.color,a=e.decimals,i=e.isDisabled,r=e.unit,l=e.bold,o=Object(s.useRef)(0);return Object(s.useEffect)((function(){o.current=t}),[t]),Object(N.jsxs)(u.M,{bold:l,color:i?"textDisabled":c,fontSize:n,children:[Object(N.jsx)(T.a,{start:o.current,end:t,decimals:a,duration:1,separator:","}),t&&r&&Object(N.jsx)("span",{children:r})]})};D.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var U,L,z,F,R,Q,K,q,Y,I,V,E,W,$,J,G,H,X,Z,_,ee,te,ne,ce,ae,ie,re,se=D,le=n(808),oe=n(1),de=n.n(oe),je=n(6),be=n(801),ue=n(821),xe=n(822),Oe=n(813),pe=n(820),me=n(804),he=n(819),fe=n(818),ge=n(58),ve=n(796),we=(n(902),x.e.div(U||(U=Object(r.a)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background}))),ke=Object(x.e)(u.h)(L||(L=Object(r.a)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),ye=x.e.div(z||(z=Object(r.a)(["\n  display: flex;\n"]))),Pe=x.e.span(F||(F=Object(r.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),Se=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,r=e.walletBalanceQuoteValue,o=e.depositBalanceQuoteValue,d=e.addLiquidityUrl,b=e.account,x=e.cakePrice,O=Object(l.f)(),m=Object(p.a)("BNB-BUSD LP"),h=Object(s.useState)(!1),f=Object(i.a)(h,2),g=f[0],w=f[1],k=Object(s.useState)(!1),y=Object(i.a)(k,2),P=y[0],S=y[1],B=t.pid,C=t.isTokenOnly,M=t.isKingdom,A=t.isKingdomToken,T=t.lpSymbol,D=t.lpAddresses,U=t.token.address,L=T.toUpperCase(),z=t.userData||{},F=z.allowance,R=void 0===F?0:F,Q=z.tokenBalance,K=void 0===Q?0:Q,q=z.stakedBalance,Y=void 0===q?0:q,I=z.bnbDividends,V=void 0===I?{}:I,E=new j.a(R),W=new j.a(K),$=new j.a(Y),J=a?new j.a(a).multipliedBy(x).toNumber():0,G=Object(ve.a)(),H=Object(Oe.a)(B,M).onStake,X=Object(pe.a)(B,M).onUnstake,Z=Object(me.b)(B,M).onReward,_=Object(fe.a)(V).onClaim,ee=b&&E&&E.isGreaterThan(0),te=Object(u.U)(Object(N.jsx)(ue.a,{max:W,onConfirm:H,tokenName:L,addLiquidityUrl:d,isTokenOnly:C,isKingdomToken:A})),ne=Object(i.a)(te,1)[0],ce=Object(u.U)(Object(N.jsx)(xe.a,{max:$,onConfirm:X,tokenName:L,isTokenOnly:C,isKingdomToken:A})),ae=Object(i.a)(ce,1)[0],ie=Object(v.a)(D),re=Object(v.a)(U),le=Object(s.useMemo)((function(){return C||A?Object(ge.a)(re,G):Object(ge.a)(ie,G)}),[ie,C,G,re,A]),oe=Object(he.a)(le,M).onApprove,Se=Object(s.useCallback)(Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,oe();case 4:w(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[oe]),Be=Object(N.jsx)(ke,{mt:"8px",disabled:g||O.pathname.includes("archived"),onClick:Se,children:"Approve Contract"}),Ce=V&&V.amount?V.amount:0,Me=Ce?new j.a(Ce).multipliedBy(m).toNumber():0,Ae=null;return Ae="CUB"===t.lpSymbol?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.M,{children:"BNB Dividends"}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:Ce,decimals:Ce?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:Me}),Object(N.jsx)(Pe,{children:")"})]}),Object(N.jsx)(ke,{disabled:0===Ce||P||!ee,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,_();case 3:S(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.M,{children:"CUB Rewards"}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:a,decimals:a?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:J}),Object(N.jsx)(Pe,{children:")"})]}),Object(N.jsx)(ke,{disabled:0===a||P||!ee,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Z();case 3:S(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),Object(N.jsx)(we,{children:Object(N.jsx)("div",{className:"k-card",children:Object(N.jsxs)("div",{className:"flex-grid",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(u.s,{justifyContent:"space-between",children:Object(N.jsx)(u.M,{children:"Balance (Wallet)"})}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:n,decimals:n?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:r}),Object(N.jsx)(Pe,{children:")"})]}),ee?Object(N.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:ne,children:"Deposit"}):Be]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(u.s,{justifyContent:"space-between",children:Object(N.jsx)(u.M,{children:"Deposit (Staked)"})}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:c,decimals:c?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:o}),Object(N.jsx)(Pe,{children:")"})]}),ee?Object(N.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:ae,children:"Withdraw"}):Be]}),Object(N.jsx)("div",{className:"col",children:Ae})]})})})},Be=n(788),Ce=n(840),Me=function(e){var t=e.aprApy,n=e.lpLabel,c=e.addLiquidityUrl,a=Object(Be.a)(),i=t.farmAPR,r=t.apr,s=t.compounding,l=t.pcsApr,o=t.dailyAPR,d=t.farmAPY,b=t.totalAPYString,x=t.cakePrice;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsxs)(u.M,{color:"warning",children:[a(354,"Total APY"),":"]}),Object(N.jsxs)(u.M,{bold:!0,color:"warning",children:[b,"%"]})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsxs)(u.M,{children:[a(354,"Farm APR"),":"]}),Object(N.jsx)(u.M,{children:"".concat(new j.a(l).toFixed(2),"% (").concat(new j.a(o).toFixed(3),"%)")})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsxs)(u.M,{children:[a(354,"Compounds / year"),":"]}),Object(N.jsxs)(u.M,{children:["~",s]})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsxs)(u.M,{children:[a(354,"Farm APY"),":"]}),Object(N.jsx)(se,{fontSize:"16px",value:d,decimals:2,unit:"%"})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",alignItems:"center",children:[Object(N.jsxs)(u.M,{children:[a(736,"CUB APR"),":"]}),Object(N.jsx)(u.M,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ce.a,{lpLabel:n,addLiquidityUrl:c,cakePrice:x,apr:r}),i||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):Object(N.jsx)(u.J,{height:24,width:80})})]})]})},Ae=(Object(x.e)(u.h)(R||(R=Object(r.a)(["\n  height: 36px;\n  font-size: 1rem;\n  padding: 0 12px;\n"]))),x.e.div(Q||(Q=Object(r.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"])))),Te=x.e.div(K||(K=Object(r.a)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),Ne=x.e.div(q||(q=Object(r.a)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),De=Object(x.e)(u.y)(Y||(Y=Object(r.a)(["\n  font-weight: 400;\n"]))),Ue=x.e.div(I||(I=Object(r.a)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),Le=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,r=e.depositBalanceQuoteValue,s=e.farmName,l=e.oneTokenQuoteValue,o=e.removed,d=e.aprApy,j=e.account,b=e.cakePrice,x=l&&"NaN"!==l.toString()?"~$".concat(l.times(C.i).toFixed(2)):"-",O=t.lpSymbol,p=t.multiplier,m=t.quoteToken,h=t.token,f=t.lpAddresses,g=t.isTokenOnly,v=t.isKingdomToken,w=t.kingdomContract,k=t.altPid,y=O&&O.toUpperCase().replace("PANCAKE",""),P=Object(le.a)({quoteTokenAddress:m.address,tokenAddress:h.address}),S=f[56],B=h.address[56],M="https://bscscan.com/token/".concat(g||v?B:S),A="https://bscscan.com/token/".concat(w),T="https://pancakeswap.info/pair/".concat(g?B:S),D=C.k,U="".concat(C.d,"/#/swap"),L="".concat(D,"/").concat(P);"Bakery"===t.farmType?(D=C.a,L="".concat(D,"/").concat(P),T="https://info.bakeryswap.org/#/pair/".concat(g?B:S)):"Belt"===t.farmType&&(L=D=C.e,U=D,T=D);var z=p;return d.newMultiplier&&(z="".concat(d.newMultiplier,"*")),Object(N.jsxs)(Ne,{children:[Object(N.jsx)(Se,{farm:t,walletBalance:n,depositBalance:c,rewardBalance:a,walletBalanceQuoteValue:i,depositBalanceQuoteValue:r,addLiquidityUrl:L,account:j,cakePrice:b}),Object(N.jsxs)(Ae,{className:"k-details",children:[Object(N.jsxs)(Te,{children:[Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsxs)(u.M,{children:[O,":"]}),Object(N.jsxs)(u.M,{children:["(",x,")"]})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Multiplier:"}),Object(N.jsx)(u.M,{children:z})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Type:"}),Object(N.jsx)(u.M,{children:"Auto-compound"})]}),12===k?Object(N.jsx)(Ue,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Farm:"}),Object(N.jsx)(u.M,{children:s})]})]}),Object(N.jsx)(Te,{children:Object(N.jsx)(Me,{aprApy:d,lpLabel:y,addLiquidityUrl:L})}),Object(N.jsxs)(Te,{children:[Object(N.jsx)(De,{external:!0,href:M,children:"Farm Contract"}),Object(N.jsx)(De,{external:!0,href:A,children:"Kingdom Contract"}),!o&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(De,{external:!0,href:U,children:"Buy ".concat(h.symbol)}),Object(N.jsx)(De,{external:!0,href:L,children:"Add Liquidity"})]}),Object(N.jsx)(De,{external:!0,href:T,children:"See Token Info"})]})]})]})},ze=x.e.div(V||(V=Object(r.a)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Fe=x.e.div(E||(E=Object(r.a)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),Re=x.e.div(W||(W=Object(r.a)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Qe=x.e.div($||($=Object(r.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),Ke=Object(x.f)(J||(J=Object(r.a)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),qe=x.e.div(G||(G=Object(r.a)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),Ke),Ye=Object(x.e)(u.w)(H||(H=Object(r.a)(["\n  width: 64px;\n"]))),Ie=x.e.div(X||(X=Object(r.a)(["\n  cursor: pointer;\n"]))),Ve=function(e){var t=e.farm,n=e.removed,c=e.cakePrice,r=e.account,l=(e.updateTotalStake,e.bakePrice),o=e.beltPrice,d=e.cubDen,b=e.realCakePrice,x=Object(s.useState)(!1),O=Object(i.a)(x,2),p=O[0],m=O[1],h=t.apr,f=t.lpTotalInQuoteToken,g=t.lpSymbol,v=t.lpTokenBalancePCS,w=void 0===v?0:v,k=t.lpTotalInQuoteTokenPCS,y=void 0===k?0:k,P=t.quoteToken.busdPrice,S=t.altPid,A=t.farmType,T=t.token.busdPrice,D=g.split(" ")[0].toLocaleLowerCase(),U=M(t,b,l,o,d),L=U,z=L.dailyAPR,F=L.totalAPY,R=L.pcsApr,Q=t.userData,K=Q.tokenBalance,q=Q.stakedBalance,Y=Q.earnings,I=K?Object(B.b)(new j.a(K)):0,V=q?Object(B.b)(new j.a(q)):0,E=Y?Object(B.b)(new j.a(Y)):0,W=new j.a(T),$=new j.a(0);$=t.isKingdomToken?"Belt"!==t.farmType?W.div(C.i):new j.a(t.token.busdPrice).div(C.i):y?new j.a(y).div(new j.a(w)).times(P).div(C.i):new j.a(0);var J=K?new j.a(K).times($).toNumber():0,G=q?new j.a(q).times($).toNumber():0,H=f?"$".concat(Number(new j.a(f).times(P)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",X=h&&h.toLocaleString("en-US",{maximumFractionDigits:2});return U=Object(a.a)(Object(a.a)({},U),{},{compounding:t.compounding,farmAPR:X,apr:12===S?R:t.apr,cakePrice:c,quoteTokenPriceUsd:Number(P),lpTotalInQuoteToken:f}),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Fe,{}),Object(N.jsxs)(Qe,{children:["CUB"===t.token.symbol&&Object(N.jsx)(qe,{}),Object(N.jsxs)(Ie,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return m(!p)},children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(Ye,{src:"/images/farms/".concat(D,".png"),alt:g,width:64,height:64})}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(u.s,{justifyContent:"flex-start",alignItems:"center",children:Object(N.jsx)(u.M,{className:"token",children:g})}),Object(N.jsxs)(u.M,{children:["Uses: ",A]}),Object(N.jsxs)(u.M,{children:["TVL ",H]})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:I,decimals:I?2:1,unit:"",color:I?"warning":"text"}),Object(N.jsx)(u.M,{children:"Balance"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:V,decimals:V?2:1,unit:"",color:V>1e-7?"warning":"text"}),Object(N.jsx)(u.M,{children:"Deposited"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:E,decimals:E?2:1,unit:"",color:E?"warning":"text"}),Object(N.jsx)(u.M,{children:"Rewards"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:"NaN"!==F.toString()?F:0,decimals:2,unit:"%",color:"warning"}),Object(N.jsx)(u.M,{color:"warning",children:"APY"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:z,decimals:2,unit:"%"}),Object(N.jsx)(u.M,{children:"Daily"})]})]}),Object(N.jsxs)(Re,{expanded:p,children:[Object(N.jsx)(ze,{}),Object(N.jsx)(Le,{farm:t,walletBalance:I,depositBalance:V,rewardBalance:E,walletBalanceQuoteValue:J,depositBalanceQuoteValue:G,farmName:A,oneTokenQuoteValue:$,removed:n,aprApy:U,account:r,cakePrice:c})]})]})]})},Ee=Object(x.e)(u.M)(Z||(Z=Object(r.a)(["\n  line-height: 1.5;\n\n"]))),We=function(e){var t=e.value,n=e.decimals,c=e.prefix,a=e.fontSize,i=void 0===a?"16px":a,r=Object(A.useCountUp)({start:0,end:t,duration:1,separator:",",decimals:void 0!==n?n:t<0?4:t>1e5?0:3}),l=r.countUp,o=r.update,d=Object(s.useRef)(o);return Object(s.useEffect)((function(){d.current(t)}),[t,d]),Object(N.jsxs)(Ee,{fontSize:i,children:[c,l]})},$e=n(26),Je=function(e,t,n,c,a){var i=$e.b,r=$e.b,s=0,l=0,o=0;e.forEach((function(e){if(e.isKingdom){var d=e.userData,b=e.lpTotalInQuoteTokenPCS,u=void 0===b?0:b,x=e.lpTokenBalancePCS,O=void 0===x?0:x,p=e.quoteToken.busdPrice,m=e.token.busdPrice,h=d.stakedBalance,f=d.earnings,g=M(e,t,n,c,a);if(h>"1"){var v=$e.b;v=e.isKingdomToken?"Belt"!==e.farmType?m:new j.a(e.token.busdPrice):u?new j.a(u).div(new j.a(O)).times(p):new j.a(0);var w=h?new j.a(h).times(v):new j.a(0);r=r.plus(new j.a(w)),s=+s+ +g.totalAPY,l=+l+ +g.dailyAPR,o+=1}"0"!==f&&(i=i.plus(new j.a(f)))}}));var d=r!==$e.b?Object(B.b)(r):0,b=i!==$e.b?Object(B.b)(i):0;return[d,b,b?new j.a(b).multipliedBy(t).toNumber():0,s,l,o]},Ge=x.e.div(_||(_=Object(r.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),He=function(e){var t=e.farms,n=e.cakePrice,c=e.bakePrice,a=e.beltPrice,r=e.cubDen,s=Je(t,n,c,a,r),l=Object(i.a)(s,6),o=l[0],d=l[1],j=l[2],b=l[3],x=l[4],O=l[5],p="NaN"!==b.toString()&&0!==b?b/O:0,m=x?x/O:0,h=o?"$".concat(o.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",f=m?"".concat(m.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",g=j?"$".concat(j.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return Object(N.jsx)(Ge,{children:Object(N.jsxs)(u.s,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(u.M,{children:"Total Deposit"}),Object(N.jsx)(u.M,{fontSize:"18px",color:"textSubtle",children:h}),Object(N.jsxs)(u.M,{children:[O," assets"]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(u.M,{children:"Average APY"}),Object(N.jsx)(se,{fontSize:"18px",value:p,decimals:p?2:1,unit:"%",color:"textSubtle"}),Object(N.jsxs)(u.M,{children:["Daily ",f]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(u.M,{children:"CUB Rewards"}),Object(N.jsx)(se,{fontSize:"18px",value:d,decimals:d?2:1,unit:"",color:"textSubtle"}),Object(N.jsx)(u.M,{children:g})]})]})})},Xe=(n(903),x.e.div(ee||(ee=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}))),Ze=x.e.div(te||(te=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),u.M),_e=x.e.div(ne||(ne=Object(r.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),u.M),et=x.e.div(ce||(ce=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),tt=x.e.div(ae||(ae=Object(r.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),nt=(x.e.div(ie||(ie=Object(r.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]))),x.e.div(re||(re=Object(r.a)(["\n  max-width: 400px;\n"])))),ct=function(){var e=Object(p.l)(),t=Object(l.f)().pathname,n=Object(p.d)().data,r=Object(s.useState)(""),d=Object(i.a)(r,2),x=d[0],B=d[1],C=Object(b.c)().account,M=Object(s.useState)("hot"),A=Object(i.a)(M,2),T=A[0],D=A[1],U=Object(p.h)(),L=Object(p.i)(),z=Object(p.a)("CAKE")||new j.a(0),F=Object(p.a)("BAKE-BNB LP"),R=Object(p.a)("BELT-BNB LP"),Q=Object(p.b)(12),K=Object(o.b)(),q=Object(m.a)().fastRefresh;Object(s.useEffect)((function(){C&&K(Object(h.a)(C))}),[C,K,q]);var Y=t.includes("archived"),I=!t.includes("history")&&!Y,V=Object(s.useState)(!I),E=Object(i.a)(V,2),W=E[0],$=E[1];Object(s.useEffect)((function(){$(!I)}),[I]),Object(s.useEffect)((function(){K(Object(y.d)(Y)),Y&&(K(Object(y.c)()),C&&K(Object(h.a)(C)))}),[Y,K,C]);var J=n.filter((function(e){return e.isKingdom&&!Object(w.a)(e.pid)})),G=J.filter((function(e){return e.userData&&new j.a(e.userData.stakedBalance).isGreaterThan(0)})),H=Object(s.useCallback)((function(e){var t=e.map((function(e){if(!e.lpTotalInQuoteToken||!U)return e;var t=U[Object(v.a)(e.quoteToken.address).toLowerCase()],n=new j.a(e.lpTotalInQuoteToken).times(t),c=I?Object(f.a)(e.poolWeight,L,n):0;return Object(a.a)(Object(a.a)({},e),{},{apr:c,liquidity:n})}));if(x){var n=x.toLowerCase();t=t.filter((function(e){return e.lpSymbol.toLowerCase().includes(n)}))}return t}),[L,U,x,I]),X=Object(s.useRef)(null),Z=Object(s.useState)(20),_=Object(i.a)(Z,2),ee=_[0],te=_[1],ne=Object(s.useState)(!1),ce=Object(i.a)(ne,2),ae=ce[0],ie=ce[1],re=Object(s.useMemo)((function(){var e=[];return I&&(e=H(W?G:J)),function(e){switch(T){case"apr":return Object(g.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return Object(g.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(g.orderBy)(e,(function(e){return e.userData?e.userData.earnings:0}),"desc");case"liquidity":return Object(g.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,ee)}),[T,J,H,I,W,G,ee]);Object(s.useEffect)((function(){ae||(new IntersectionObserver((function(e){Object(i.a)(e,1)[0].isIntersecting&&te((function(e){return e+20}))}),{rootMargin:"0px",threshold:1}).observe(X.current),ie(!0))}),[re,ae]);var se=Object(s.useState)({}),le=Object(i.a)(se,2),oe=le[0],de=le[1],je=function(e,t,n,i){oe[e]?de(Object(a.a)(Object(a.a)({},oe),{},Object(c.a)({},e,{depositBalanceQuoteValue:+oe[e].depositBalanceQuoteValue+ +t,totalAPY:+oe[e].totalAPY+ +n,dailyAPR:+oe[e].dailyAPR+ +i}))):de(Object(a.a)(Object(a.a)({},oe),{},Object(c.a)({},e,{depositBalanceQuoteValue:t,totalAPY:n,dailyAPR:i})))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(k.a,{children:[Object(N.jsxs)("div",{className:"k-header",children:[Object(N.jsx)(u.t,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),Object(N.jsxs)(u.s,{children:[Object(N.jsx)(u.M,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),Object(N.jsx)(We,{fontSize:"24px",value:e.toNumber(),prefix:"$",decimals:2})]})]}),Object(N.jsx)(u.t,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),Object(N.jsx)(u.t,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),Object(N.jsx)(u.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),Object(N.jsx)(u.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),Object(N.jsxs)(nt,{children:[Object(N.jsx)(u.t,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),Object(N.jsx)(u.M,{children:"3%"})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Management Fee:"}),Object(N.jsx)(u.M,{children:"7%"})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"CUB Burn Rate:"}),Object(N.jsx)(u.M,{children:"100% of Fees Buyback and Burn CUB"})]}),Object(N.jsxs)(u.s,{justifyContent:"space-between",children:[Object(N.jsx)(u.M,{children:"Withdrawal Fee:"}),Object(N.jsx)(u.M,{children:"None"})]})]})]}),Object(N.jsxs)(O.a,{className:"k-container",children:[Object(N.jsx)(He,{farms:re,cakePrice:L,totalStake:oe,bakePrice:F,beltPrice:R,cubDen:Q}),Object(N.jsxs)(Xe,{children:[Object(N.jsx)(tt,{children:Object(N.jsxs)(Ze,{children:[Object(N.jsx)(u.N,{checked:W,onChange:function(){return $(!W)},scale:"sm"}),Object(N.jsx)(u.M,{children:"Staked only"})]})}),Object(N.jsxs)(et,{children:[Object(N.jsxs)(_e,{children:[Object(N.jsx)(u.M,{children:"SORT BY"}),Object(N.jsx)(P.a,{options:[{label:"Default",value:"default"},{label:"APR",value:"apr"},{label:"Multiplier",value:"multiplier"},{label:"Earned",value:"earned"},{label:"Liquidity",value:"liquidity"}],onChange:function(e){D(e.value)}})]}),Object(N.jsxs)(_e,{style:{marginLeft:16},children:[Object(N.jsx)(u.M,{children:"SEARCH"}),Object(N.jsx)(S.a,{onChange:function(e){B(e.target.value)}})]})]})]}),Object(N.jsx)("div",{id:"kingdoms",children:re.map((function(e){return Object(N.jsx)(Ve,{farm:e,cakePrice:L,account:C,removed:!1,updateTotalStake:je,bakePrice:F,beltPrice:R,cubDen:Q,realCakePrice:z},e.pid)}))}),Object(N.jsx)("div",{ref:X})]})]})}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(1),a=n.n(c),i=n(6),r=n(0),s=n(62),l=n(54),o=n(112),d=n(791),j=n(792),b=function(e){var t=Object(l.b)(),n=Object(s.c)().account,c=Object(j.a)(),b=e.user,u=void 0===b?"":b,x=e.amount,O=void 0===x?"":x,p=e.nonce,m=void 0===p?"":p,h=e.signature,f=void 0===h?"":h;return{onClaim:Object(r.useCallback)(Object(i.a)(a.a.mark((function e(){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(c,n,u,O,m,f);case 2:return i=e.sent,t(Object(o.a)(n)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),[t,n,u,O,m,f,c])}}},902:function(e,t,n){},903:function(e,t,n){}}]);
//# sourceMappingURL=7.20bd0dfa.chunk.js.map