(this["webpackJsonpcubdefi-frontend"]=this["webpackJsonpcubdefi-frontend"]||[]).push([[7],{1062:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ct}));var c=n(5),a=n(35),i=n(47),r=n(0),s=n(39),o=n(54),l=n(4),d=n.n(l),j=n(62),b=n(31),u=n(3),x=n(222),O=n(75),p=n(133),m=n(112),h=n(807),f=n(88),g=n(11),v=n(231),w=n(884),k=n(115),y=n(849),P=n(850),S=n(818),B=n(216),C=n(76),M=function(e,t,n,c,a){var i,r=e.apr,s=e.isKingdom,o=e.poolWeightPCS,l=e.compounding,j=e.lpTokenBalancePCS,b=void 0===j?0:j,u=e.lpTotalInQuoteTokenPCS,x=void 0===u?0:u,O=e.quoteToken.busdPrice,p=e.altPid,m=e.farmType,f=e.beltAPR;if(12===p){var g=new d.a(a.lpTotalInQuoteToken).times(a.quoteToken.busdPrice);i=Object(h.a)(a.poolWeight,a.tokenPriceVsQuote,g);var v=new d.a(i).div(new d.a(365)).toNumber(),w=100*(Math.pow(i/100/l+1,l)-1),k=w,y=k&&k.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:v,farmAPY:w,totalAPY:k,totalAPYString:y,newMultiplier:a.multiplier}}if("CAKE"===e.lpSymbol)i=Object(h.b)(Number(e.token.busdPrice),Number(e.token.busdPrice),Object(B.b)(new d.a(b).times(C.i),18),parseFloat("10"));else{var P=new d.a(x).times(O),S=t;"Bakery"===m?S=n:"Belt"===m&&(S=c),i="Belt"===m?Number(f):Object(h.a)(new d.a(o),S,P,s,m)}var M=i?new d.a(i).div(new d.a(365)).toNumber():new d.a(0).toNumber(),A=100*(Math.pow(i/100/l+1,l)-1),T=r?r+A:A,N=T&&T.toLocaleString("en-US",{maximumFractionDigits:2});return{pcsApr:i,dailyAPR:M,farmAPY:A,totalAPY:T,totalAPYString:N}},A=n(806),T=n.n(A),N=n(13),D=function(e){var t=e.value,n=e.fontSize,c=e.color,a=e.decimals,i=e.isDisabled,s=e.unit,o=e.bold,l=Object(r.useRef)(0);return Object(r.useEffect)((function(){l.current=t}),[t]),Object(N.jsxs)(b.M,{bold:o,color:i?"textDisabled":c,fontSize:n,children:[Object(N.jsx)(T.a,{start:l.current,end:t,decimals:a,duration:1,separator:","}),t&&s&&Object(N.jsx)("span",{children:s})]})};D.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var U,L,z,F,R,K,Q,q,I,E,Y,V,W,$,J,G,H,X,Z,_,ee,te,ne,ce,ae,ie,re,se=D,oe=n(808),le=n(1),de=n.n(le),je=n(6),be=n(801),ue=n(822),xe=n(823),Oe=n(813),pe=n(821),me=n(804),he=n(820),fe=n(819),ge=n(58),ve=n(796),we=(n(903),u.e.div(U||(U=Object(i.a)(["\n  align-self: baseline;\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  /*padding: 6px 12px;*/\n  position: relative;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n"])),(function(e){return e.theme.card.background}))),ke=Object(u.e)(b.h)(L||(L=Object(i.a)(["\n  height: 40px;\n  margin-top: 0.3rem;\n  display: block;\n"]))),ye=u.e.div(z||(z=Object(i.a)(["\n  display: flex;\n"]))),Pe=u.e.span(F||(F=Object(i.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),Se=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,i=e.rewardBalance,o=e.walletBalanceQuoteValue,l=e.depositBalanceQuoteValue,j=e.addLiquidityUrl,u=e.account,x=e.cakePrice,p=e.bnbDividends,m=Object(s.f)(),h=Object(O.a)("BNB-BUSD LP"),f=Object(r.useState)(!1),v=Object(a.a)(f,2),w=v[0],k=v[1],y=Object(r.useState)(!1),P=Object(a.a)(y,2),S=P[0],B=P[1],M=Object(r.useState)(!1),A=Object(a.a)(M,2),T=A[0],D=A[1],U=t.pid,L=t.isTokenOnly,z=t.isKingdom,F=t.isKingdomToken,R=t.lpSymbol,K=t.lpAddresses,Q=t.token.address,q=R.toUpperCase(),I=t.userData||{},E=I.allowance,Y=void 0===E?0:E,V=I.tokenBalance,W=void 0===V?0:V,$=I.stakedBalance,J=void 0===$?0:$,G=new d.a(Y),H=new d.a(W),X=new d.a(J),Z=i?new d.a(i).multipliedBy(x).toNumber():0,_=Object(ve.a)(),ee=Object(Oe.a)(U,z).onStake,te=Object(pe.a)(U,z).onUnstake,ne=Object(me.b)(U,z).onReward,ce=Object(fe.a)(p||{}).onClaim,ae=u&&G&&G.isGreaterThan(0),ie=Object(b.U)(Object(N.jsx)(ue.a,{max:H,onConfirm:ee,tokenName:q,addLiquidityUrl:j,isTokenOnly:L,isKingdomToken:F})),re=Object(a.a)(ie,1)[0],oe=Object(b.U)(Object(N.jsx)(xe.a,{max:X,onConfirm:te,tokenName:q,isTokenOnly:L,isKingdomToken:F})),le=Object(a.a)(oe,1)[0],Se=Object(g.a)(K),Be=Object(g.a)(Q),Ce=Object(r.useMemo)((function(){return L||F?Object(ge.a)(Be,_):Object(ge.a)(Se,_)}),[Se,L,_,Be,F]),Me=Object(he.a)(Ce,z).onApprove,Ae=Object(r.useCallback)(Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,Me();case 4:k(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[Me]),Te=Object(N.jsx)(ke,{mt:"8px",disabled:w||m.pathname.includes("archived"),onClick:Ae,children:"Approve Contract"}),Ne=p&&p.amount?new d.a(p.amount).div(C.i).toNumber():0,De=Ne?new d.a(Ne).multipliedBy(h).toNumber():0,Ue=null;return Ue="CUB"===t.lpSymbol?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.M,{children:"BNB Dividends"}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:Ne,decimals:Ne?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:De}),Object(N.jsx)(Pe,{children:")"})]}),Object(N.jsx)(ke,{disabled:0===Ne||T||!ae,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,ce();case 3:D(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Claim"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(b.M,{children:"CUB Rewards"}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:i,decimals:i?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:Z}),Object(N.jsx)(Pe,{children:")"})]}),Object(N.jsx)(ke,{disabled:0===i||S||!ae,onClick:Object(je.a)(de.a.mark((function e(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,ne();case 3:B(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Harvest"})]}),Object(N.jsx)(we,{children:Object(N.jsx)("div",{className:"k-card",children:Object(N.jsxs)("div",{className:"flex-grid",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(b.s,{justifyContent:"space-between",children:Object(N.jsx)(b.M,{children:"Balance (Wallet)"})}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:n,decimals:n?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:o}),Object(N.jsx)(Pe,{children:")"})]}),ae?Object(N.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:re,children:"Deposit"}):Te]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(b.s,{justifyContent:"space-between",children:Object(N.jsx)(b.M,{children:"Deposit (Staked)"})}),Object(N.jsxs)(ye,{children:[Object(N.jsx)(se,{fontSize:"16px",value:c,decimals:c?3:2,unit:""}),"\xa0",Object(N.jsx)(Pe,{children:"("}),Object(N.jsx)(be.a,{value:l}),Object(N.jsx)(Pe,{children:")"})]}),ae?Object(N.jsx)(ke,{mt:"8px",fullWidth:!0,onClick:le,children:"Withdraw"}):Te]}),Object(N.jsx)("div",{className:"col",children:Ue})]})})})},Be=n(788),Ce=n(841),Me=function(e){var t=e.aprApy,n=e.lpLabel,c=e.addLiquidityUrl,a=Object(Be.a)(),i=t.farmAPR,r=t.apr,s=t.compounding,o=t.pcsApr,l=t.dailyAPR,j=t.farmAPY,u=t.totalAPYString,x=t.cakePrice;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsxs)(b.M,{color:"warning",children:[a(354,"Total APY"),":"]}),Object(N.jsxs)(b.M,{bold:!0,color:"warning",children:[u,"%"]})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsxs)(b.M,{children:[a(354,"Farm APR"),":"]}),Object(N.jsx)(b.M,{children:"".concat(new d.a(o).toFixed(2),"% (").concat(new d.a(l).toFixed(3),"%)")})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsxs)(b.M,{children:[a(354,"Compounds / year"),":"]}),Object(N.jsxs)(b.M,{children:["~",s]})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsxs)(b.M,{children:[a(354,"Farm APY"),":"]}),Object(N.jsx)(se,{fontSize:"16px",value:j,decimals:2,unit:"%"})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",alignItems:"center",children:[Object(N.jsxs)(b.M,{children:[a(736,"CUB APR"),":"]}),Object(N.jsx)(b.M,{bold:!0,style:{display:"flex",alignItems:"center"},children:r?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ce.a,{lpLabel:n,addLiquidityUrl:c,cakePrice:x,apr:r}),i||r.toLocaleString("en-US",{maximumFractionDigits:2}),"%"]}):Object(N.jsx)(b.J,{height:24,width:80})})]})]})},Ae=(Object(u.e)(b.h)(R||(R=Object(i.a)(["\n  height: 36px;\n  font-size: 1rem;\n  padding: 0 12px;\n"]))),u.e.div(K||(K=Object(i.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: space-between;\n  /*padding-left: 0.8rem;\n  padding-right: 0.8rem;*/\n  /*font-size: 0.95rem*/\n"])))),Te=u.e.div(Q||(Q=Object(i.a)(["\n  /*display: inline;\n  margin-right: 1rem;*/\n  /*& div {\n    font-family: Arial;\n    font-size: 0.8rem;\n    padding: 2px;\n  }*/\n  &:nth-child(1) {\n    width: 25%\n  }\n  &:nth-child(2) {\n    width: 33%\n  }\n"]))),Ne=u.e.div(q||(q=Object(i.a)(["\n  /*background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);*/\n"])),(function(e){return e.theme.card.background})),De=Object(u.e)(b.y)(I||(I=Object(i.a)(["\n  font-weight: 400;\n"]))),Ue=u.e.div(E||(E=Object(i.a)(["\n  color: ",";\n  margin-top: 0.2rem;\n"])),(function(e){return e.theme.colors.text})),Le=function(e){var t=e.farm,n=e.walletBalance,c=e.depositBalance,a=e.rewardBalance,i=e.walletBalanceQuoteValue,r=e.depositBalanceQuoteValue,s=e.farmName,o=e.oneTokenQuoteValue,l=e.removed,d=e.aprApy,j=e.account,u=e.cakePrice,x=e.bnbDividends,O=o&&"NaN"!==o.toString()?"~$".concat(o.times(C.i).toFixed(2)):"-",p=t.lpSymbol,m=t.multiplier,h=t.quoteToken,f=t.token,g=t.lpAddresses,v=t.isTokenOnly,w=t.isKingdomToken,k=t.kingdomContract,y=t.altPid,P=p&&p.toUpperCase().replace("PANCAKE",""),S=Object(oe.a)({quoteTokenAddress:h.address,tokenAddress:f.address}),B=g[56],M=f.address[56],A="https://bscscan.com/token/".concat(v||w?M:B),T="https://bscscan.com/token/".concat(k),D="https://pancakeswap.info/pair/".concat(v?M:B),U=C.k,L="".concat(C.d,"/#/swap"),z="".concat(U,"/").concat(S);"Bakery"===t.farmType?(U=C.a,z="".concat(U,"/").concat(S),D="https://info.bakeryswap.org/#/pair/".concat(v?M:B)):"Belt"===t.farmType&&(z=U=C.e,L=U,D=U);var F=m;return d.newMultiplier&&(F="".concat(d.newMultiplier,"*")),Object(N.jsxs)(Ne,{children:[Object(N.jsx)(Se,{farm:t,walletBalance:n,depositBalance:c,rewardBalance:a,walletBalanceQuoteValue:i,depositBalanceQuoteValue:r,addLiquidityUrl:z,account:j,cakePrice:u,bnbDividends:x}),Object(N.jsxs)(Ae,{className:"k-details",children:[Object(N.jsxs)(Te,{children:[Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsxs)(b.M,{children:[p,":"]}),Object(N.jsxs)(b.M,{children:["(",O,")"]})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Multiplier:"}),Object(N.jsx)(b.M,{children:F})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Type:"}),Object(N.jsx)(b.M,{children:"Auto-compound"})]}),12===y?Object(N.jsx)(Ue,{children:"*CUB Kingdom multiplier coexists with CUB Den multiplier"}):Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Farm:"}),Object(N.jsx)(b.M,{children:s})]})]}),Object(N.jsx)(Te,{children:Object(N.jsx)(Me,{aprApy:d,lpLabel:P,addLiquidityUrl:z})}),Object(N.jsxs)(Te,{children:[Object(N.jsx)(De,{external:!0,href:A,children:"Farm Contract"}),Object(N.jsx)(De,{external:!0,href:T,children:"Kingdom Contract"}),!l&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(De,{external:!0,href:L,children:"Buy ".concat(f.symbol)}),Object(N.jsx)(De,{external:!0,href:z,children:"Add Liquidity"})]}),Object(N.jsx)(De,{external:!0,href:D,children:"See Token Info"})]})]})]})},ze=u.e.div(Y||(Y=Object(i.a)(["\n  background-color: ",";\n  opacity: 0.2;\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.primary})),Fe=u.e.div(V||(V=Object(i.a)(["\n  height: 1px;\n  margin: 12px auto;\n  width: 100%;\n"]))),Re=u.e.div(W||(W=Object(i.a)(["\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.expanded?"100%":"0px"})),Ke=u.e.div($||($=Object(i.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: 8px;\n  box-shadow: 0 3px 4px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 0.4rem 0.8rem;\n  position: relative;\n"])),(function(e){return e.theme.card.background})),Qe=Object(u.f)(J||(J=Object(i.a)(["\n\t0% {\n\t\tbackground-position: 0% 50%;\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%;\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%;\n\t}\n"]))),qe=u.e.div(G||(G=Object(i.a)(["\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  background-size: 300% 300%;\n  animation: "," 2s linear infinite;\n  border-radius: 8px;\n  filter: blur(6px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n"])),Qe),Ie=Object(u.e)(b.w)(H||(H=Object(i.a)(["\n  width: 64px;\n"]))),Ee=u.e.div(X||(X=Object(i.a)(["\n  cursor: pointer;\n"]))),Ye=function(e){var t=e.farm,n=e.removed,i=e.cakePrice,s=e.account,o=e.bakePrice,l=e.beltPrice,j=e.cubDen,u=e.realCakePrice,x=e.bnbDividends,O=Object(r.useState)(!1),p=Object(a.a)(O,2),m=p[0],h=p[1],f=t.apr,g=t.lpTotalInQuoteToken,v=t.lpSymbol,w=t.lpTokenBalancePCS,k=void 0===w?0:w,y=t.lpTotalInQuoteTokenPCS,P=void 0===y?0:y,S=t.quoteToken.busdPrice,A=t.altPid,T=t.farmType,D=t.token.busdPrice,U=v.split(" ")[0].toLocaleLowerCase(),L=M(t,u,o,l,j),z=L,F=z.dailyAPR,R=z.totalAPY,K=z.pcsApr,Q=t.userData,q=Q.tokenBalance,I=Q.stakedBalance,E=Q.earnings,Y=q?Object(B.b)(new d.a(q)):0,V=I?Object(B.b)(new d.a(I)):0,W=E?Object(B.b)(new d.a(E)):0,$=new d.a(D),J=new d.a(0);J=t.isKingdomToken?"Belt"!==t.farmType?$.div(C.i):new d.a(t.token.busdPrice).div(C.i):P?new d.a(P).div(new d.a(k)).times(S).div(C.i):new d.a(0);var G=q?new d.a(q).times(J).toNumber():0,H=I?new d.a(I).times(J).toNumber():0,X=g?"$".concat(Number(new d.a(g).times(S)).toLocaleString(void 0,{maximumFractionDigits:0})):"-",Z=f&&f.toLocaleString("en-US",{maximumFractionDigits:2});return L=Object(c.a)(Object(c.a)({},L),{},{compounding:t.compounding,farmAPR:Z,apr:12===A?K:t.apr,cakePrice:i,quoteTokenPriceUsd:Number(S),lpTotalInQuoteToken:g}),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Fe,{}),Object(N.jsxs)(Ke,{children:["CUB"===t.token.symbol&&Object(N.jsx)(qe,{}),Object(N.jsxs)(Ee,{role:"presentation",className:"flex-grid k-grid",onClick:function(){return h(!m)},children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(Ie,{src:"/images/farms/".concat(U,".png"),alt:v,width:64,height:64})}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(b.s,{justifyContent:"flex-start",alignItems:"center",children:Object(N.jsx)(b.M,{className:"token",children:v})}),Object(N.jsxs)(b.M,{children:["Uses: ",T]}),Object(N.jsxs)(b.M,{children:["TVL ",X]})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:Y,decimals:Y?2:1,unit:"",color:Y?"warning":"text"}),Object(N.jsx)(b.M,{children:"Balance"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:V,decimals:V?2:1,unit:"",color:V>1e-7?"warning":"text"}),Object(N.jsx)(b.M,{children:"Deposited"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:W,decimals:W?2:1,unit:"",color:W?"warning":"text"}),Object(N.jsx)(b.M,{children:"Rewards"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:"NaN"!==R.toString()?R:0,decimals:2,unit:"%",color:"warning"}),Object(N.jsx)(b.M,{color:"warning",children:"APY"})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)(se,{fontSize:"16px",value:F,decimals:2,unit:"%"}),Object(N.jsx)(b.M,{children:"Daily"})]})]}),Object(N.jsxs)(Re,{expanded:m,children:[Object(N.jsx)(ze,{}),Object(N.jsx)(Le,{farm:t,walletBalance:Y,depositBalance:V,rewardBalance:W,walletBalanceQuoteValue:G,depositBalanceQuoteValue:H,farmName:T,oneTokenQuoteValue:J,removed:n,aprApy:L,account:s,cakePrice:i,bnbDividends:x})]})]})]})},Ve=Object(u.e)(b.M)(Z||(Z=Object(i.a)(["\n  line-height: 1.5;\n\n"]))),We=function(e){var t=e.value,n=e.decimals,c=e.prefix,a=e.fontSize,i=void 0===a?"16px":a,s=Object(A.useCountUp)({start:0,end:t,duration:1,separator:",",decimals:void 0!==n?n:t<0?4:t>1e5?0:3}),o=s.countUp,l=s.update,d=Object(r.useRef)(l);return Object(r.useEffect)((function(){d.current(t)}),[t,d]),Object(N.jsxs)(Ve,{fontSize:i,children:[c,o]})},$e=n(26),Je=function(e,t,n,c,a){var i=$e.b,r=$e.b,s=0,o=0,l=0;e.forEach((function(e){if(e.isKingdom){var j=e.userData,b=e.lpTotalInQuoteTokenPCS,u=void 0===b?0:b,x=e.lpTokenBalancePCS,O=void 0===x?0:x,p=e.quoteToken.busdPrice,m=e.token.busdPrice,h=j.stakedBalance,f=j.earnings,g=M(e,t,n,c,a);if(h>"1"){var v=$e.b;v=e.isKingdomToken?"Belt"!==e.farmType?m:new d.a(e.token.busdPrice):u?new d.a(u).div(new d.a(O)).times(p):new d.a(0);var w=h?new d.a(h).times(v):new d.a(0);r=r.plus(new d.a(w)),s=+s+ +g.totalAPY,o=+o+ +g.dailyAPR,l+=1}"0"!==f&&(i=i.plus(new d.a(f)))}}));var j=r!==$e.b?Object(B.b)(r):0,b=i!==$e.b?Object(B.b)(i):0;return[j,b,b?new d.a(b).multipliedBy(t).toNumber():0,s,o,l]},Ge=u.e.div(_||(_=Object(i.a)(["\n  max-width: 700px;\n  margin: 0 auto;\n"]))),He=function(e){var t=e.farms,n=e.cakePrice,c=e.bakePrice,i=e.beltPrice,r=e.cubDen,s=Je(t,n,c,i,r),o=Object(a.a)(s,6),l=o[0],d=o[1],j=o[2],u=o[3],x=o[4],O=o[5],p="NaN"!==u.toString()&&0!==u?u/O:0,m=x?x/O:0,h=l?"$".concat(l.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00",f=m?"".concat(m.toLocaleString("en-US",{maximumFractionDigits:2}),"%"):"0.00",g=j?"$".concat(j.toLocaleString("en-US",{maximumFractionDigits:2})):"0.00";return Object(N.jsx)(Ge,{children:Object(N.jsxs)(b.s,{justifyContent:"space-between",alignItems:"flex-start",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(b.M,{children:"Total Deposit"}),Object(N.jsx)(b.M,{fontSize:"18px",color:"textSubtle",children:h}),Object(N.jsxs)(b.M,{children:[O," assets"]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(b.M,{children:"Average APY"}),Object(N.jsx)(se,{fontSize:"18px",value:p,decimals:p?2:1,unit:"%",color:"textSubtle"}),Object(N.jsxs)(b.M,{children:["Daily ",f]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(b.M,{children:"CUB Rewards"}),Object(N.jsx)(se,{fontSize:"18px",value:d,decimals:d?2:1,unit:"",color:"textSubtle"}),Object(N.jsx)(b.M,{children:g})]})]})})},Xe=(n(904),u.e.div(ee||(ee=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}))),Ze=u.e.div(te||(te=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),b.M),_e=u.e.div(ne||(ne=Object(i.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),b.M),et=u.e.div(ce||(ce=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),tt=u.e.div(ae||(ae=Object(i.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),nt=(u.e.div(ie||(ie=Object(i.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]))),u.e.div(re||(re=Object(i.a)(["\n  max-width: 400px;\n"])))),ct=function(){var e=Object(O.l)(),t=Object(s.f)().pathname,n=Object(O.d)().data,i=Object(r.useState)(""),l=Object(a.a)(i,2),u=l[0],B=l[1],C=Object(j.c)().account,M=Object(r.useState)("hot"),A=Object(a.a)(M,2),T=A[0],D=A[1],U=Object(O.h)(),L=Object(O.i)(),z=Object(O.a)("CAKE")||new d.a(0),F=Object(O.a)("BAKE-BNB LP"),R=Object(O.a)("BELT-BNB LP"),K=Object(O.b)(12),Q=Object(S.a)()||{},q=Object(o.b)(),I=Object(p.a)().fastRefresh;Object(r.useEffect)((function(){C&&q(Object(m.a)(C))}),[C,q,I]);var E=t.includes("archived"),Y=!t.includes("history")&&!E,V=Object(r.useState)(!Y),W=Object(a.a)(V,2),$=W[0],J=W[1];Object(r.useEffect)((function(){J(!Y)}),[Y]),Object(r.useEffect)((function(){q(Object(k.d)(E)),E&&(q(Object(k.c)()),C&&q(Object(m.a)(C)))}),[E,q,C]);var G=n.filter((function(e){return e.isKingdom&&!Object(v.a)(e.pid)})),H=G.filter((function(e){return e.userData&&new d.a(e.userData.stakedBalance).isGreaterThan(0)})),X=Object(r.useCallback)((function(e){var t=e.map((function(e){if(!e.lpTotalInQuoteToken||!U)return e;var t=U[Object(g.a)(e.quoteToken.address).toLowerCase()],n=new d.a(e.lpTotalInQuoteToken).times(t),a=Y?Object(h.a)(e.poolWeight,L,n):0;return Object(c.a)(Object(c.a)({},e),{},{apr:a,liquidity:n})}));if(u){var n=u.toLowerCase();t=t.filter((function(e){return e.lpSymbol.toLowerCase().includes(n)}))}return t}),[L,U,u,Y]),Z=Object(r.useRef)(null),_=Object(r.useState)(20),ee=Object(a.a)(_,2),te=ee[0],ne=ee[1],ce=Object(r.useState)(!1),ae=Object(a.a)(ce,2),ie=ae[0],re=ae[1],se=Object(r.useMemo)((function(){var e=[];return Y&&(e=X($?H:G)),function(e){switch(T){case"apr":return Object(f.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return Object(f.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(f.orderBy)(e,(function(e){return e.userData?e.userData.earnings:0}),"desc");case"liquidity":return Object(f.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e).slice(0,te)}),[T,G,X,Y,$,H,te]);Object(r.useEffect)((function(){ie||(new IntersectionObserver((function(e){Object(a.a)(e,1)[0].isIntersecting&&ne((function(e){return e+20}))}),{rootMargin:"0px",threshold:1}).observe(Z.current),re(!0))}),[se,ie]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(w.a,{children:[Object(N.jsxs)("div",{className:"k-header",children:[Object(N.jsx)(b.t,{as:"h1",size:"xxl",color:"secondary",mb:"10px",children:"Kingdoms"}),Object(N.jsxs)(b.s,{children:[Object(N.jsx)(b.M,{bold:!0,fontSize:"24px",children:"TVL\xa0"}),Object(N.jsx)(We,{fontSize:"24px",value:e.toNumber(),prefix:"$",decimals:2})]})]}),Object(N.jsx)(b.t,{as:"h1",size:"lg",color:"primary",mb:"10px",style:{textAlign:"left"},children:"Composable Auto-Compounding"}),Object(N.jsx)(b.t,{as:"h2",color:"secondary",mb:"10px",style:{textAlign:"left"},children:"Stake tokens for cross-platform farming plus CUB rewards"}),Object(N.jsx)(b.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"IMPORTANT: Must use the host farm exchange (eg. PCS, Bakery) for Kingdom LP tokens"}),Object(N.jsx)(b.t,{as:"h2",color:"warning",mb:"10px",style:{textAlign:"left"},children:"CertiK Audit is Pending: Our other contracts have been audited by CertiK and Kingdoms are currently under review. Please use at your own discretion until the audit has been published"}),Object(N.jsxs)(nt,{children:[Object(N.jsx)(b.t,{as:"h2",color:"secondary",mb:"5px",style:{textAlign:"left"},children:"Fees"}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Fee for CUB Staking Kingdom BNB Dividends:"}),Object(N.jsx)(b.M,{children:"3%"})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Management Fee:"}),Object(N.jsx)(b.M,{children:"7%"})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"CUB Burn Rate:"}),Object(N.jsx)(b.M,{children:"100% of Fees Buyback and Burn CUB"})]}),Object(N.jsxs)(b.s,{justifyContent:"space-between",children:[Object(N.jsx)(b.M,{children:"Withdrawal Fee:"}),Object(N.jsx)(b.M,{children:"None"})]})]})]}),Object(N.jsxs)(x.a,{className:"k-container",children:[Object(N.jsx)(He,{farms:se,cakePrice:L,bakePrice:F,beltPrice:R,cubDen:K}),Object(N.jsxs)(Xe,{children:[Object(N.jsx)(tt,{children:Object(N.jsxs)(Ze,{children:[Object(N.jsx)(b.N,{checked:$,onChange:function(){return J(!$)},scale:"sm"}),Object(N.jsx)(b.M,{children:"Staked only"})]})}),Object(N.jsxs)(et,{children:[Object(N.jsxs)(_e,{children:[Object(N.jsx)(b.M,{children:"SORT BY"}),Object(N.jsx)(y.a,{options:[{label:"Default",value:"default"},{label:"APR",value:"apr"},{label:"Multiplier",value:"multiplier"},{label:"Earned",value:"earned"},{label:"Liquidity",value:"liquidity"}],onChange:function(e){D(e.value)}})]}),Object(N.jsxs)(_e,{style:{marginLeft:16},children:[Object(N.jsx)(b.M,{children:"SEARCH"}),Object(N.jsx)(P.a,{onChange:function(e){B(e.target.value)}})]})]})]}),Object(N.jsx)("div",{id:"kingdoms",children:se.map((function(e){return Object(N.jsx)(Ye,{farm:e,cakePrice:L,account:C,removed:!1,bakePrice:F,beltPrice:R,cubDen:K,realCakePrice:z,bnbDividends:Q},e.pid)}))}),Object(N.jsx)("div",{ref:Z})]})]})}},818:function(e,t,n){"use strict";var c=n(1),a=n.n(c),i=n(6),r=n(35),s=n(0),o=n(62),l=n(173),d=n.n(l),j=n(133);t.a=function(){var e=Object(s.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(o.c)().account,b=Object(j.a)().fastRefresh;return Object(s.useEffect)((function(){l&&function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://bnb.fbslo.net/?address=".concat(l),{timeout:7e3}).then((function(e){return e.data})).catch((function(e){return console.log("error",e),{error:!0}}));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,b]),n}},819:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(1),a=n.n(c),i=n(6),r=n(0),s=n(62),o=n(54),l=n(112),d=n(791),j=n(792),b=function(e){var t=Object(o.b)(),n=Object(s.c)().account,c=Object(j.a)(),b=e.user,u=void 0===b?"":b,x=e.amount,O=void 0===x?"":x,p=e.nonce,m=void 0===p?"":p,h=e.signature,f=void 0===h?"":h;return{onClaim:Object(r.useCallback)(Object(i.a)(a.a.mark((function e(){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)(c,n,u,O,m,f);case 2:return i=e.sent,t(Object(l.a)(n)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),[t,n,u,O,m,f,c])}}},903:function(e,t,n){},904:function(e,t,n){}}]);
//# sourceMappingURL=7.5001bc82.chunk.js.map